<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 The R package wrassp15 | The EMU-SDMS Manual</title>
  <meta name="description" content="8 The R package wrassp15 | The EMU-SDMS Manual" />
  <meta name="generator" content="bookdown 0.14 and GitBook 2.6.7" />

  <meta property="og:title" content="8 The R package wrassp15 | The EMU-SDMS Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/" />
  <meta property="og:image" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/pics/EMU-webAppIcon-roundCorners.png" />
  <meta property="og:description" content="8 The R package wrassp15 | The EMU-SDMS Manual" />
  <meta name="github-repo" content="IPS-LMU/The-EMU-SDMS-Manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 The R package wrassp15 | The EMU-SDMS Manual" />
  
  <meta name="twitter:description" content="8 The R package wrassp15 | The EMU-SDMS Manual" />
  <meta name="twitter:image" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/pics/EMU-webAppIcon-roundCorners.png" />

<meta name="author" content="Raphael Winkelmann" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap-sigDataExtr.html"/>
<link rel="next" href="chap-emu-webApp.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The EMU-SDMS Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html"><i class="fa fa-check"></i><b>1</b> Installing the EMU-SDMS</a><ul>
<li class="chapter" data-level="1.1" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html#version-disclaimer"><i class="fa fa-check"></i><b>1.1</b> Version disclaimer</a></li>
<li class="chapter" data-level="1.2" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html#for-developers-and-people-interested-in-the-source-code"><i class="fa fa-check"></i><b>1.2</b> For developers and people interested in the source code</a></li>
</ul></li>
<li class="part"><span><b>I Overview and tutorial</b></span></li>
<li class="chapter" data-level="2" data-path="chap-overview.html"><a href="chap-overview.html"><i class="fa fa-check"></i><b>2</b> An overview of the EMU-SDMS</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-overview.html"><a href="chap-overview.html#the-evolution-of-the-emu-sdms"><i class="fa fa-check"></i><b>2.1</b> The evolution of the EMU-SDMS</a></li>
<li class="chapter" data-level="2.2" data-path="chap-overview.html"><a href="chap-overview.html#sec:overview-sysArch"><i class="fa fa-check"></i><b>2.2</b> EMU-SDMS: System architecture and default workflow</a></li>
<li class="chapter" data-level="2.3" data-path="chap-overview.html"><a href="chap-overview.html#emu-sdms-is-it-something-for-you"><i class="fa fa-check"></i><b>2.3</b> EMU-SDMS: Is it something for you?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-tutorial.html"><a href="chap-tutorial.html"><i class="fa fa-check"></i><b>3</b> A tutorial on how to use the EMU-SDMS</a><ul>
<li class="chapter" data-level="3.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#converting-the-textgrid-collection"><i class="fa fa-check"></i><b>3.1</b> Converting the TextGrid collection</a></li>
<li class="chapter" data-level="3.2" data-path="chap-tutorial.html"><a href="chap-tutorial.html#loading-and-inspecting-the-database"><i class="fa fa-check"></i><b>3.2</b> Loading and inspecting the database</a><ul>
<li class="chapter" data-level="3.2.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#overview"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="chap-tutorial.html"><a href="chap-tutorial.html#database-annotation-and-visual-inspection"><i class="fa fa-check"></i><b>3.2.2</b> Database annotation and visual inspection</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chap-tutorial.html"><a href="chap-tutorial.html#querying-and-autobuilding-the-annotation-structure"><i class="fa fa-check"></i><b>3.3</b> Querying and autobuilding the annotation structure</a></li>
<li class="chapter" data-level="3.4" data-path="chap-tutorial.html"><a href="chap-tutorial.html#autobuilding"><i class="fa fa-check"></i><b>3.4</b> Autobuilding</a><ul>
<li class="chapter" data-level="3.4.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#querying-the-hierarchical-annotations"><i class="fa fa-check"></i><b>3.4.1</b> Querying the hierarchical annotations</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="chap-tutorial.html"><a href="chap-tutorial.html#section:tutorial-sigExtrAndExpl"><i class="fa fa-check"></i><b>3.5</b> Signal extraction and exploration</a></li>
<li class="chapter" data-level="3.6" data-path="chap-tutorial.html"><a href="chap-tutorial.html#vowel-height-as-a-function-of-word-types-content-vs.function-evaluation-and-statistical-analysis"><i class="fa fa-check"></i><b>3.6</b> Vowel height as a function of word types (content vs.Â function): evaluation and statistical analysis</a></li>
<li class="chapter" data-level="3.7" data-path="chap-tutorial.html"><a href="chap-tutorial.html#conclusion"><i class="fa fa-check"></i><b>3.7</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Main components and concepts</b></span></li>
<li class="chapter" data-level="4" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html"><i class="fa fa-check"></i><b>4</b> Annotation Structure Modeling</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#per-database-annotation-structure-definition"><i class="fa fa-check"></i><b>4.1</b> Per database annotation structure definition</a></li>
<li class="chapter" data-level="4.2" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#parallel-labels-and-multiple-attributes"><i class="fa fa-check"></i><b>4.2</b> Parallel labels and multiple attributes</a></li>
<li class="chapter" data-level="4.3" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#metadata-strategy-using-single-bundle-root-nodes"><i class="fa fa-check"></i><b>4.3</b> Metadata strategy using single bundle root nodes</a></li>
<li class="chapter" data-level="4.4" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#conclusion-1"><i class="fa fa-check"></i><b>4.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-emuDB.html"><a href="chap-emuDB.html"><i class="fa fa-check"></i><b>5</b> The <code>emuDB</code> Format</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-emuDB.html"><a href="chap-emuDB.html#database-design"><i class="fa fa-check"></i><b>5.1</b> Database design</a></li>
<li class="chapter" data-level="5.2" data-path="chap-emuDB.html"><a href="chap-emuDB.html#creating-an-emudb"><i class="fa fa-check"></i><b>5.2</b> Creating an <code>emuDB</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="chap-emuDB.html"><a href="chap-emuDB.html#creating-an-emudb-from-scratch"><i class="fa fa-check"></i><b>5.2.1</b> Creating an <code>emuDB</code> from scratch</a></li>
<li class="chapter" data-level="5.2.2" data-path="chap-emuDB.html"><a href="chap-emuDB.html#loading-and-editing-an-empty-database"><i class="fa fa-check"></i><b>5.2.2</b> Loading and editing an empty database</a></li>
<li class="chapter" data-level="5.2.3" data-path="chap-emuDB.html"><a href="chap-emuDB.html#level-definitions"><i class="fa fa-check"></i><b>5.2.3</b> Level definitions</a></li>
<li class="chapter" data-level="5.2.4" data-path="chap-emuDB.html"><a href="chap-emuDB.html#link-definitions"><i class="fa fa-check"></i><b>5.2.4</b> Link definitions</a></li>
<li class="chapter" data-level="5.2.5" data-path="chap-emuDB.html"><a href="chap-emuDB.html#file-handling"><i class="fa fa-check"></i><b>5.2.5</b> File handling</a></li>
<li class="chapter" data-level="5.2.6" data-path="chap-emuDB.html"><a href="chap-emuDB.html#ssff-track-definitions"><i class="fa fa-check"></i><b>5.2.6</b> SSFF track definitions</a></li>
<li class="chapter" data-level="5.2.7" data-path="chap-emuDB.html"><a href="chap-emuDB.html#configuring-the-emu-webapp-and-annotating-the-emudb"><i class="fa fa-check"></i><b>5.2.7</b> Configuring the <code>EMU-webApp</code> and annotating the <code>emuDB</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chap-emuDB.html"><a href="chap-emuDB.html#conclusion-2"><i class="fa fa-check"></i><b>5.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-querysys.html"><a href="chap-querysys.html"><i class="fa fa-check"></i><b>6</b> The query system</a><ul>
<li class="chapter" data-level="6.1" data-path="chap-querysys.html"><a href="chap-querysys.html#sec:query-emuRsegs"><i class="fa fa-check"></i><b>6.1</b> <code>emuRsegs</code>: The resulting object of a query</a></li>
<li class="chapter" data-level="6.2" data-path="chap-querysys.html"><a href="chap-querysys.html#eql-the-emu-query-language-version-2"><i class="fa fa-check"></i><b>6.2</b> <code>EQL</code>: The EMU Query Language version 2</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chap-querysys.html"><a href="chap-querysys.html#simple-queries"><i class="fa fa-check"></i><b>6.2.1</b> Simple queries</a></li>
<li class="chapter" data-level="6.2.2" data-path="chap-querysys.html"><a href="chap-querysys.html#combining-simple-queries"><i class="fa fa-check"></i><b>6.2.2</b> Combining simple queries</a></li>
<li class="chapter" data-level="6.2.3" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query_positionQueries"><i class="fa fa-check"></i><b>6.2.3</b> Position queries</a></li>
<li class="chapter" data-level="6.2.4" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query_countQueries"><i class="fa fa-check"></i><b>6.2.4</b> Count queries</a></li>
<li class="chapter" data-level="6.2.5" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query_moreComplexQueries"><i class="fa fa-check"></i><b>6.2.5</b> More complex queries</a></li>
<li class="chapter" data-level="6.2.6" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query_deducingTime"><i class="fa fa-check"></i><b>6.2.6</b> Deducing time</a></li>
<li class="chapter" data-level="6.2.7" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:requery"><i class="fa fa-check"></i><b>6.2.7</b> Requery</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chap-querysys.html"><a href="chap-querysys.html#discussion"><i class="fa fa-check"></i><b>6.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html"><i class="fa fa-check"></i><b>7</b> Signal data extraction</a><ul>
<li class="chapter" data-level="7.1" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#extracting-pre-defined-tracks"><i class="fa fa-check"></i><b>7.1</b> Extracting pre-defined tracks</a></li>
<li class="chapter" data-level="7.2" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#adding-new-tracks"><i class="fa fa-check"></i><b>7.2</b> Adding new tracks</a></li>
<li class="chapter" data-level="7.3" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#calculating-tracks-on-the-fly"><i class="fa fa-check"></i><b>7.3</b> Calculating tracks on-the-fly</a></li>
<li class="chapter" data-level="7.4" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#the-resulting-object-tibble"><i class="fa fa-check"></i><b>7.4</b> The resulting object: <code>tibble</code></a></li>
<li class="chapter" data-level="7.5" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#conclusion-3"><i class="fa fa-check"></i><b>7.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap-wrassp.html"><a href="chap-wrassp.html"><i class="fa fa-check"></i><b>8</b> The R package <code>wrassp</code></a><ul>
<li class="chapter" data-level="8.1" data-path="chap-wrassp.html"><a href="chap-wrassp.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="chap-wrassp.html"><a href="chap-wrassp.html#file-i0-and-the-asspdataobj"><i class="fa fa-check"></i><b>8.2</b> File I/0 and the <code>AsspDataObj</code></a></li>
<li class="chapter" data-level="8.3" data-path="chap-wrassp.html"><a href="chap-wrassp.html#signal-processing"><i class="fa fa-check"></i><b>8.3</b> Signal processing</a></li>
<li class="chapter" data-level="8.4" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-wrasspOutputInfos"><i class="fa fa-check"></i><b>8.4</b> The <code>wrasspOutputInfos</code> object</a></li>
<li class="chapter" data-level="8.5" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-formants"><i class="fa fa-check"></i><b>8.5</b> Formants and their bandwidths</a><ul>
<li class="chapter" data-level="8.5.1" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp_f0"><i class="fa fa-check"></i><b>8.5.1</b> Fundamental frequency contour</a></li>
<li class="chapter" data-level="8.5.2" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-RMS"><i class="fa fa-check"></i><b>8.5.2</b> RMS energy contour</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp_logging"><i class="fa fa-check"></i><b>8.6</b> Logging <code>wrassp</code>âs function calls</a></li>
<li class="chapter" data-level="8.7" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp-emu-sdms"><i class="fa fa-check"></i><b>8.7</b> Using <code>wrassp</code> in the EMU-SDMS</a></li>
<li class="chapter" data-level="8.8" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp_genSSFF"><i class="fa fa-check"></i><b>8.8</b> Storing data in the SSFF file format</a></li>
<li class="chapter" data-level="8.9" data-path="chap-wrassp.html"><a href="chap-wrassp.html#conclusion-4"><i class="fa fa-check"></i><b>8.9</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html"><i class="fa fa-check"></i><b>9</b> The <code>EMU-webApp</code></a><ul>
<li class="chapter" data-level="9.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#sec:emu-webApp-mainLayout"><i class="fa fa-check"></i><b>9.1</b> Main layout</a></li>
<li class="chapter" data-level="9.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#sec:webApp-generalUsage"><i class="fa fa-check"></i><b>9.2</b> General usage</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#annotating-levels-containing-time-information"><i class="fa fa-check"></i><b>9.2.1</b> Annotating levels containing time information</a></li>
<li class="chapter" data-level="9.2.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#working-with-hierarchical-annotations-2-chapemu-webapp"><i class="fa fa-check"></i><b>9.2.2</b> Working with hierarchical annotations</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#configuring-the-emu-webapp"><i class="fa fa-check"></i><b>9.3</b> Configuring the <code>EMU-webApp</code></a><ul>
<li class="chapter" data-level="9.3.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#subsec:emu-webAppConfigWithEmuR"><i class="fa fa-check"></i><b>9.3.1</b> Basic configurations using <code>emuR</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#signal-canvas-and-level-canvas-order"><i class="fa fa-check"></i><b>9.3.2</b> Signal canvas and level canvas order</a></li>
<li class="chapter" data-level="9.3.3" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#subsec:emu-webAppAdvancedConfig"><i class="fa fa-check"></i><b>9.3.3</b> Advanced configurations made by editing the <code>_DBconfig.json</code></a></li>
<li class="chapter" data-level="9.3.4" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#d-canvas"><i class="fa fa-check"></i><b>9.3.4</b> 2D canvas</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#conclusion-5"><i class="fa fa-check"></i><b>9.4</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>III Main <code>emuR</code> function and object index</b></span></li>
<li class="chapter" data-level="10" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html"><i class="fa fa-check"></i><b>10</b> <code>emuR</code> - package functions</a><ul>
<li class="chapter" data-level="10.1" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-importRoutines"><i class="fa fa-check"></i><b>10.1</b> Import and conversion routines</a><ul>
<li class="chapter" data-level="10.1.1" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#legacy-emu-databases"><i class="fa fa-check"></i><b>10.1.1</b> Legacy EMU databases</a></li>
<li class="chapter" data-level="10.1.2" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#textgrid-collections"><i class="fa fa-check"></i><b>10.1.2</b> TextGrid collections</a></li>
<li class="chapter" data-level="10.1.3" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#bpf-collections"><i class="fa fa-check"></i><b>10.1.3</b> BPF collections</a></li>
<li class="chapter" data-level="10.1.4" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#txt-collections"><i class="fa fa-check"></i><b>10.1.4</b> txt collections</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-emuDBinteract"><i class="fa fa-check"></i><b>10.2</b> <code>emuDB</code> interaction and configuration routines</a></li>
<li class="chapter" data-level="10.3" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-emuWebAppConfig"><i class="fa fa-check"></i><b>10.3</b> <code>EMU-webApp</code> configuration routines</a></li>
<li class="chapter" data-level="10.4" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-dataExtr"><i class="fa fa-check"></i><b>10.4</b> Data extraction routines</a></li>
<li class="chapter" data-level="10.5" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-centralObjects"><i class="fa fa-check"></i><b>10.5</b> Central objects</a></li>
<li class="chapter" data-level="10.6" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-exportRoutines"><i class="fa fa-check"></i><b>10.6</b> Export routines</a></li>
<li class="chapter" data-level="10.7" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#conclusion-6"><i class="fa fa-check"></i><b>10.7</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>IV Implementation</b></span></li>
<li class="chapter" data-level="11" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html"><i class="fa fa-check"></i><b>11</b> Implementation of the query system</a><ul>
<li class="chapter" data-level="11.1" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html#sec:query-queryExpressionParser"><i class="fa fa-check"></i><b>11.1</b> Query expression parser</a></li>
<li class="chapter" data-level="11.2" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html#subsec:query-redundantLinks"><i class="fa fa-check"></i><b>11.2</b> Redundant links</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chap-wrassp-impl.html"><a href="chap-wrassp-impl.html"><i class="fa fa-check"></i><b>12</b> <code>wrassp</code> implementation</a><ul>
<li class="chapter" data-level="12.1" data-path="chap-wrassp-impl.html"><a href="chap-wrassp-impl.html#the-libassp-port"><i class="fa fa-check"></i><b>12.1</b> The <code>libassp</code> port</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html"><i class="fa fa-check"></i><b>13</b> <code>EMU-webApp</code> implementation</a><ul>
<li class="chapter" data-level="13.1" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#subsec:emu-webAppTheProtocol"><i class="fa fa-check"></i><b>13.1</b> Communication protocol</a></li>
<li class="chapter" data-level="13.2" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#url-parameters"><i class="fa fa-check"></i><b>13.2</b> URL parameters</a><ul>
<li class="chapter" data-level="13.2.1" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#websocket-server-parameters"><i class="fa fa-check"></i><b>13.2.1</b> Websocket server parameters</a></li>
<li class="chapter" data-level="13.2.2" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#examples"><i class="fa fa-check"></i><b>13.2.2</b> Examples</a></li>
<li class="chapter" data-level="13.2.3" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#label-file-preview-parameters"><i class="fa fa-check"></i><b>13.2.3</b> Label file preview parameters</a></li>
<li class="chapter" data-level="13.2.4" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#examples-1"><i class="fa fa-check"></i><b>13.2.4</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Appendices</b></span></li>
<li class="chapter" data-level="14" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html"><i class="fa fa-check"></i><b>14</b> Use cases</a><ul>
<li class="chapter" data-level="14.1" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q1"><i class="fa fa-check"></i><b>14.1</b> What is the average length of all <em>n</em> phonetic segments in the <em>ae</em> <code>emuDB</code>?</a></li>
<li class="chapter" data-level="14.2" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q2"><i class="fa fa-check"></i><b>14.2</b> What does the F1 and F2 distribution of all phonetic segments that contain the labels <em>I</em>, <em>o:</em>, <em>u:</em>, <em>V</em> or <em>@</em> look like?</a></li>
<li class="chapter" data-level="14.3" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q3"><i class="fa fa-check"></i><b>14.3</b> What words do the phonetic segments that carry the labels <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> occur in and what is their phonetic context?</a></li>
<li class="chapter" data-level="14.4" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q4"><i class="fa fa-check"></i><b>14.4</b> Do the phonetic segments labeled <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> differ with respect to their first spectral moment?\footnote{The original version of this use case was written by Florian Schiel as part of the <code>emuR_intro</code> vignette that is part of the <code>emuR</code> package.</a><ul>
<li class="chapter" data-level="14.4.1" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#note-see-refrecipespectralanalysis-for-more-up-to-date-methods-of-performing-spectral-analysis"><i class="fa fa-check"></i><b>14.4.1</b> NOTE: See @ref(recipe:spectralAnalysis) for more up to date methods of performing spectral analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html"><i class="fa fa-check"></i><b>15</b> File Formats</a><ul>
<li class="chapter" data-level="15.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#file-descriptions"><i class="fa fa-check"></i><b>15.1</b> File descriptions</a><ul>
<li class="chapter" data-level="15.1.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsDBconfig"><i class="fa fa-check"></i><b>15.1.1</b> <code>_DBconfig.json</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsAnnotJSON"><i class="fa fa-check"></i><b>15.1.2</b> <code>_annot.json</code></a></li>
<li class="chapter" data-level="15.1.3" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsSSFF"><i class="fa fa-check"></i><b>15.1.3</b> The SSFF file format</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#example-files"><i class="fa fa-check"></i><b>15.2</b> Example files</a><ul>
<li class="chapter" data-level="15.2.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapExampleFilesBundleList"><i class="fa fa-check"></i><b>15.2.1</b> <code>_bundleList.json</code></a></li>
<li class="chapter" data-level="15.2.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapExampleFilesBndlJSON"><i class="fa fa-check"></i><b>15.2.2</b> <code>_bndl.json</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html"><i class="fa fa-check"></i><b>16</b> The <code>EMU-webApp-websocket-protocol</code> Version 2.0</a><ul>
<li class="chapter" data-level="16.1" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#protocol-overview"><i class="fa fa-check"></i><b>16.1</b> Protocol overview</a></li>
<li class="chapter" data-level="16.2" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#protocol-commands"><i class="fa fa-check"></i><b>16.2</b> Protocol commands</a><ul>
<li class="chapter" data-level="16.2.1" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getprotocol"><i class="fa fa-check"></i><b>16.2.1</b> <code>GETPROTOCOL</code></a></li>
<li class="chapter" data-level="16.2.2" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getdousermanagement"><i class="fa fa-check"></i><b>16.2.2</b> <code>GETDOUSERMANAGEMENT</code></a></li>
<li class="chapter" data-level="16.2.3" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#logonuser"><i class="fa fa-check"></i><b>16.2.3</b> <code>LOGONUSER</code></a></li>
<li class="chapter" data-level="16.2.4" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getglobaldbconfig"><i class="fa fa-check"></i><b>16.2.4</b> <code>GETGLOBALDBCONFIG</code></a></li>
<li class="chapter" data-level="16.2.5" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getbundlelist"><i class="fa fa-check"></i><b>16.2.5</b> <code>GETBUNDLELIST</code></a></li>
<li class="chapter" data-level="16.2.6" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getbundle"><i class="fa fa-check"></i><b>16.2.6</b> <code>GETBUNDLE</code></a></li>
<li class="chapter" data-level="16.2.7" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#savebundle"><i class="fa fa-check"></i><b>16.2.7</b> <code>SAVEBUNDLE</code></a></li>
<li class="chapter" data-level="16.2.8" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#disconnectwarning"><i class="fa fa-check"></i><b>16.2.8</b> <code>DISCONNECTWARNING</code></a></li>
<li class="chapter" data-level="16.2.9" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#error-handling"><i class="fa fa-check"></i><b>16.2.9</b> Error handling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html"><i class="fa fa-check"></i><b>17</b> EQL EBNF</a><ul>
<li class="chapter" data-level="17.1" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-operators-and-their-meaning"><i class="fa fa-check"></i><b>17.1</b> Terminal symbols of EQL2 (operators) and their meaning</a></li>
<li class="chapter" data-level="17.2" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-brackets-and-their-meanings."><i class="fa fa-check"></i><b>17.2</b> Terminal symbols of EQL2 (brackets) and their meanings.</a></li>
<li class="chapter" data-level="17.3" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-functions-and-their-meanings."><i class="fa fa-check"></i><b>17.3</b> Terminal symbols of EQL2 (functions) and their meanings.</a></li>
<li class="chapter" data-level="17.4" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#formal-description-of-emu-query-language-version-2"><i class="fa fa-check"></i><b>17.4</b> Formal description of EMU Query Language Version 2</a></li>
<li class="chapter" data-level="17.5" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#restrictions"><i class="fa fa-check"></i><b>17.5</b> Restrictions</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="app-chap-eql.html"><a href="app-chap-eql.html"><i class="fa fa-check"></i><b>18</b> EQL: further examples</a><ul>
<li class="chapter" data-level="18.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-equality-inequality-matching-non-matching-queries-single-argument"><i class="fa fa-check"></i><b>18.1</b> Simple equality, inequality, matching and non-matching queries (single-argument)</a></li>
<li class="chapter" data-level="18.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#sequence-queries-using-the---sequence-operator"><i class="fa fa-check"></i><b>18.2</b> Sequence queries using the -&gt; sequence operator</a></li>
<li class="chapter" data-level="18.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#subsequent-sequence-queries-using-nesting-of-the---sequence-operator"><i class="fa fa-check"></i><b>18.3</b> Subsequent sequence queries using nesting of the <code>-&gt;</code> sequence operator</a></li>
<li class="chapter" data-level="18.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#conjunction-operator"><i class="fa fa-check"></i><b>18.4</b> Conjunction operator &amp;</a></li>
<li class="chapter" data-level="18.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#domination-operator-hierarchical-queries"><i class="fa fa-check"></i><b>18.5</b> Domination operator ^ (hierarchical queries)</a><ul>
<li class="chapter" data-level="18.5.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-domination"><i class="fa fa-check"></i><b>18.5.1</b> Simple domination</a></li>
<li class="chapter" data-level="18.5.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#multiple-domination"><i class="fa fa-check"></i><b>18.5.2</b> Multiple domination</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position"><i class="fa fa-check"></i><b>18.6</b> Position</a><ul>
<li class="chapter" data-level="18.6.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-usage-of-start-end-and-medial"><i class="fa fa-check"></i><b>18.6.1</b> Simple usage of <code>Start()</code>, <code>End()</code> and <code>Medial()</code></a></li>
<li class="chapter" data-level="18.6.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position-and-boolean"><i class="fa fa-check"></i><b>18.6.2</b> Position and boolean &amp;</a></li>
<li class="chapter" data-level="18.6.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position-and-boolean-1"><i class="fa fa-check"></i><b>18.6.3</b> Position and boolean ^</a></li>
<li class="chapter" data-level="18.6.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#count-and-boolean"><i class="fa fa-check"></i><b>18.6.4</b> Count and boolean <code>&amp;</code></a></li>
<li class="chapter" data-level="18.6.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#count-and"><i class="fa fa-check"></i><b>18.6.5</b> Count and ^</a></li>
</ul></li>
<li class="chapter" data-level="18.7" data-path="app-chap-eql.html"><a href="app-chap-eql.html#combinations"><i class="fa fa-check"></i><b>18.7</b> Combinations</a><ul>
<li class="chapter" data-level="18.7.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#and---domination-and-sequence"><i class="fa fa-check"></i><b>18.7.1</b> ^ and -&gt; (domination and sequence)</a></li>
<li class="chapter" data-level="18.7.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#and---and-domination-and-sequence-and-boolean"><i class="fa fa-check"></i><b>18.7.2</b> ^ and -&gt; and &amp; (domination and sequence and boolean &amp;)</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="app-chap-eql.html"><a href="app-chap-eql.html#a-few-more-questions-and-answers"><i class="fa fa-check"></i><b>18.8</b> A few more questions and answers</a></li>
<li class="chapter" data-level="18.9" data-path="app-chap-eql.html"><a href="app-chap-eql.html#differences-to-the-legacy-emu-query-language"><i class="fa fa-check"></i><b>18.9</b> Differences to the legacy EMU query language</a><ul>
<li class="chapter" data-level="18.9.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#function-call-syntax"><i class="fa fa-check"></i><b>18.9.1</b> Function call syntax</a></li>
<li class="chapter" data-level="18.9.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#empty-result"><i class="fa fa-check"></i><b>18.9.2</b> Empty result</a></li>
<li class="chapter" data-level="18.9.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#the-result-modifier-hash-tag"><i class="fa fa-check"></i><b>18.9.3</b> The result modifier hash tag <code>#</code></a></li>
<li class="chapter" data-level="18.9.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#interpretation-of-the-hash-tag-in-conjunction-operator-queries"><i class="fa fa-check"></i><b>18.9.4</b> Interpretation of the hash tag <code>#</code> in conjunction operator queries</a></li>
<li class="chapter" data-level="18.9.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#legacy-emu"><i class="fa fa-check"></i><b>18.9.5</b> legacy EMU</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="app-chap-eql.html"><a href="app-chap-eql.html#bugs-in-legacy-emu-function-emu.query"><i class="fa fa-check"></i><b>18.10</b> Bugs in legacy EMU function <code>emu.query()</code></a><ul>
<li class="chapter" data-level="18.10.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#alternative-labels-in-inequality-queries"><i class="fa fa-check"></i><b>18.10.1</b> Alternative labels in inequality queries</a></li>
<li class="chapter" data-level="18.10.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#legacy-emu-1"><i class="fa fa-check"></i><b>18.10.2</b> legacy EMU</a></li>
<li class="chapter" data-level="18.10.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#emur-1"><i class="fa fa-check"></i><b>18.10.3</b> emuR</a></li>
<li class="chapter" data-level="18.10.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#errors-caused-by-missing-or-superfluous-blanks-or-parentheses"><i class="fa fa-check"></i><b>18.10.4</b> Errors caused by missing or superfluous blanks or parentheses</a></li>
<li class="chapter" data-level="18.10.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#order-of-result-segment-list"><i class="fa fa-check"></i><b>18.10.5</b> Order of result segment list</a></li>
<li class="chapter" data-level="18.10.6" data-path="app-chap-eql.html"><a href="app-chap-eql.html#additional-features"><i class="fa fa-check"></i><b>18.10.6</b> Additional features</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html"><i class="fa fa-check"></i><b>19</b> <code>wrassp</code></a><ul>
<li class="chapter" data-level="19.1" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#sec:app-chap-wrassp-praatsSigProc"><i class="fa fa-check"></i><b>19.1</b> Using Praatâs signal processing routines in the EMU-SDMS</a><ul>
<li class="chapter" data-level="19.1.1" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#to-formant-burg...-to-ssff-files"><i class="fa fa-check"></i><b>19.1.1</b> <code>To Formant (burg)...</code> to SSFF files</a></li>
<li class="chapter" data-level="19.1.2" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#to-pitch...-to-ssff-files"><i class="fa fa-check"></i><b>19.1.2</b> <code>To Pitch...</code> to SSFF files</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#sec:app-chap-wrassp-opensmileSigProc"><i class="fa fa-check"></i><b>19.2</b> Using OpenSMILE signal processing routines in the EMU-SDMS</a></li>
</ul></li>
<li class="part"><span><b>VI Recipes</b></span></li>
<li class="chapter" data-level="20" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>20</b> About</a></li>
<li class="chapter" data-level="21" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html"><i class="fa fa-check"></i><b>21</b> Spectral analysis</a><ul>
<li class="chapter" data-level="21.1" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#how-to-quantify-differences-between-spectra"><i class="fa fa-check"></i><b>21.1</b> How to quantify differences between spectra?</a></li>
<li class="chapter" data-level="21.2" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#discrete-cosine-transform-dct"><i class="fa fa-check"></i><b>21.2</b> Discrete Cosine Transform (DCT)</a></li>
<li class="chapter" data-level="21.3" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#dct-coefficients"><i class="fa fa-check"></i><b>21.3</b> DCT coefficients</a><ul>
<li class="chapter" data-level="21.3.1" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#p.s.-use-dct-in-order-to-smooth-formant-trajectories"><i class="fa fa-check"></i><b>21.3.1</b> P.S.: Use DCT in order to smooth formant trajectories</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#spectral-moments"><i class="fa fa-check"></i><b>21.4</b> Spectral moments</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html"><i class="fa fa-check"></i><b>22</b> Plotting snippets</a><ul>
<li class="chapter" data-level="22.1" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#formant-trajectory-plots-equivalent-to-the-legacy-dplot...-normalise-tf-average-tf..."><i class="fa fa-check"></i><b>22.1</b> Formant trajectory plots (equivalent to the legacy <code>dplot(..., normalise = T/F, average = T/F,...)</code>)</a></li>
<li class="chapter" data-level="22.2" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#f1f2-plots-equivalent-to-the-legacy-eplot...-dopoints-tf-doellipse-tf-centroid-tf-..."><i class="fa fa-check"></i><b>22.2</b> F1/F2 plots (equivalent to the legacy <code>eplot(..., dopoints = T/F, doellipse = T/F, centroid = T/F, ...)</code>)</a></li>
<li class="chapter" data-level="22.3" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#f1f2-plot-separated-by-speaker"><i class="fa fa-check"></i><b>22.3</b> F1/F2 plot separated by speaker</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><i class="fa fa-check"></i><b>23</b> Version control of emuDBs including collaborative annotation with Git and GitLab</a><ul>
<li class="chapter" data-level="23.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#setup"><i class="fa fa-check"></i><b>23.1</b> Setup</a><ul>
<li class="chapter" data-level="23.1.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#using-gitlab-to-host-the-emudb"><i class="fa fa-check"></i><b>23.1.1</b> Using GitLab to host the emuDB</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#collaborating-with-others"><i class="fa fa-check"></i><b>23.2</b> Collaborating with others</a><ul>
<li class="chapter" data-level="23.2.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#default-work-flow"><i class="fa fa-check"></i><b>23.2.1</b> Default work-flow</a></li>
<li class="chapter" data-level="23.2.2" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#assigning-bundles-to-annotators"><i class="fa fa-check"></i><b>23.2.2</b> Assigning bundles to annotators</a></li>
<li class="chapter" data-level="23.2.3" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#pointing-the-emu-webapp-to-the-gitlab-repository"><i class="fa fa-check"></i><b>23.2.3</b> Pointing the EMU-webApp to the GitLab repository</a></li>
<li class="chapter" data-level="23.2.4" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#what-about-my-r-scripts-other-files"><i class="fa fa-check"></i><b>23.2.4</b> What about my R scripts / other files?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The EMU-SDMS Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap:wrassp" class="section level1">
<h1><span class="header-section-number">8</span> The R package <code>wrassp</code><a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a></h1>
<p><img src="pics/EMU-webAppEmu_wrassp.png" width="75%" style="display: block; margin: auto;" /></p>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">8.1</span> Introduction</h2>
<p>This chapter gives an overview and introduction to the <code>wrassp</code> package. The <code>wrassp</code> package is a <code>w</code>rapper for <code>R</code> around Michel Scheffersâ <a href="http://libassp.sourceforge.net/"><code>libassp</code></a> (<code>A</code>dvanced <code>S</code>peech <code>S</code>ignal <code>P</code>rocessor). The <code>libassp</code> library and therefore the <code>wrassp</code> package provide functionality for handling speech signal files in most common audio formats and for performing signal analyses common in the phonetic and speech sciences. As such, <code>wrassp</code> fills a gap in the R package landscape as, to our knowledge, no previous packages provided this specialized functionality. The currently available signal processing functions provided by <code>wrassp</code> are:</p>
<ul>
<li><code>acfana()</code>: Analysis of short-term autocorrelation function</li>
<li><code>afdiff()</code>: Computes the first difference of the signal</li>
<li><code>affilter()</code>: Filters the audio signal (e.g., low-pass and high-pass)</li>
<li><code>cepstrum()</code>: Short-term cepstral analysis</li>
<li><code>cssSpectrum()</code>: Cepstral smoothed version of <code>dftSpectrum()</code></li>
<li><code>dftSpectrum()</code>: Short-term DFT spectral analysis</li>
<li><code>forest()</code>: Formant estimation</li>
<li><code>ksvF0()</code>: F0 analysis of the signal</li>
<li><code>lpsSpectrum()</code>: Linear predictive smoothed version of <code>dftSpectrum()</code></li>
<li><code>mhsF0()</code>: Pitch analysis of the speech signal using Michel Scheffersâ <code>M</code>odified <code>H</code>armonic <code>S</code>ieve algorithm</li>
<li><code>rfcana()</code>: Linear prediction analysis</li>
<li><code>rmsana()</code>: Analysis of short-term Root Mean Square amplitude</li>
<li><code>zcrana</code>(): Analysis of the averages of the short-term positive and negative zero-crossing rates</li>
</ul>
<p>The available file handling functions are:</p>
<ul>
<li><code>read.AsspDataObj()</code>: read a SSFF or audio file into an <code>AsspDataObj</code>, which is the in-memory equivalent of the SSFF or audio file.</li>
<li><code>write.AsspDataObj()</code>: write an <code>AsspDataObj</code> to file (usually SSFF or audio file formats).</li>
</ul>
<p>See Râs <code>help()</code> function for a comprehensive list of every function and object provided by the <code>wrassp</code> package is required (see R code snippet below).</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">help</span>(<span class="dt">package=</span><span class="st">&quot;wrassp&quot;</span>)</a></code></pre></div>
<p>As the <code>wrassp</code> package can be used independently of the EMU-SDMS this chapter largely focuses on using it as an independent component. However, Section <a href="chap-wrassp.html#sec:wrassp-emu-sdms">8.7</a> provides an overview of how the package is integrated into the EMU-SDMS. Further, although the <code>wrassp</code> package has its own set of example audio files (which can be accessed in the directory provided by <code>system.file('extdata', package='wrassp')</code>), this chapter will use the audio and SSFF files that are part of the <code>ae</code> <code>emuDB</code> of the demo data provided by the <code>emuR</code> package. This is done primarily to provide an overview of what it is like using <code>wrassp</code> to work on files in an <code>emuDB</code>. The R code snippet below shows how to generate this demo data followed by a listing of the files contained in a directory of a single bundle called <code>msajc003</code> (see Chapter @ref(chap:emuDB} for information about the <code>emuDB</code> format). The output of the call to <code>list.files()</code> shows four files where the <code>.dft</code> and <code>.fms</code> files are in the SSFF file format (see Appendix <a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsSSFF">15.1.3</a> for further details). The <code>_annot.json</code> file contains the annotation information, and the <code>.wav</code> file is one of the audio files that will be used in various signal processing examples in this chapter.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1"><span class="co"># load the emuR package</span></a>
<a class="sourceLine" id="cb161-2" data-line-number="2"><span class="kw">library</span>(emuR)</a>
<a class="sourceLine" id="cb161-3" data-line-number="3"></a>
<a class="sourceLine" id="cb161-4" data-line-number="4"><span class="co"># create demo data in directory</span></a>
<a class="sourceLine" id="cb161-5" data-line-number="5"><span class="co"># provided by tempdir()</span></a>
<a class="sourceLine" id="cb161-6" data-line-number="6"><span class="kw">create_emuRdemoData</span>(<span class="dt">dir =</span> <span class="kw">tempdir</span>())</a>
<a class="sourceLine" id="cb161-7" data-line-number="7"></a>
<a class="sourceLine" id="cb161-8" data-line-number="8"><span class="co"># create path to demo database</span></a>
<a class="sourceLine" id="cb161-9" data-line-number="9">path2ae =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;emuR_demoData&quot;</span>, <span class="st">&quot;ae_emuDB&quot;</span>)</a>
<a class="sourceLine" id="cb161-10" data-line-number="10"></a>
<a class="sourceLine" id="cb161-11" data-line-number="11"><span class="co"># create path to bundle in database</span></a>
<a class="sourceLine" id="cb161-12" data-line-number="12">path2bndl =<span class="st"> </span><span class="kw">file.path</span>(path2ae, <span class="st">&quot;0000_ses&quot;</span>, <span class="st">&quot;msajc003_bndl&quot;</span>)</a>
<a class="sourceLine" id="cb161-13" data-line-number="13"></a>
<a class="sourceLine" id="cb161-14" data-line-number="14"><span class="co"># list files in bundle directory</span></a>
<a class="sourceLine" id="cb161-15" data-line-number="15"><span class="kw">list.files</span>(path2bndl)</a></code></pre></div>
<pre><code>## [1] &quot;msajc003_annot.json&quot; &quot;msajc003.dft&quot;        &quot;msajc003.fms&quot;       
## [4] &quot;msajc003.wav&quot;</code></pre>
</div>
<div id="file-i0-and-the-asspdataobj" class="section level2">
<h2><span class="header-section-number">8.2</span> File I/0 and the <code>AsspDataObj</code></h2>
<p>One of the aims of <code>wrassp</code> is to provide mechanisms for handling speech-related files such as audio files and derived and complementary signal files. To have an in-memory object that can hold these file types in a uniform way the <code>wrassp</code> package provides the <code>AsspDataObj</code> data type. The R code snippet below shows how the <code>read.AsspDataObj()</code> can be used to import a <code>.wav</code> audio file.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1"><span class="co"># load the wrassp package</span></a>
<a class="sourceLine" id="cb163-2" data-line-number="2"><span class="kw">library</span>(wrassp)</a>
<a class="sourceLine" id="cb163-3" data-line-number="3"></a>
<a class="sourceLine" id="cb163-4" data-line-number="4"><span class="co"># create path to wav file</span></a>
<a class="sourceLine" id="cb163-5" data-line-number="5">path2wav =<span class="st"> </span><span class="kw">file.path</span>(path2bndl, <span class="st">&quot;msajc003.wav&quot;</span>)</a>
<a class="sourceLine" id="cb163-6" data-line-number="6"></a>
<a class="sourceLine" id="cb163-7" data-line-number="7"><span class="co"># read audio file</span></a>
<a class="sourceLine" id="cb163-8" data-line-number="8">au =<span class="st"> </span><span class="kw">read.AsspDataObj</span>(path2wav)</a>
<a class="sourceLine" id="cb163-9" data-line-number="9"></a>
<a class="sourceLine" id="cb163-10" data-line-number="10"><span class="co"># show class</span></a>
<a class="sourceLine" id="cb163-11" data-line-number="11"><span class="kw">class</span>(au)</a></code></pre></div>
<pre><code>## [1] &quot;AsspDataObj&quot;</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="co"># show print() output of object</span></a>
<a class="sourceLine" id="cb165-2" data-line-number="2"><span class="kw">print</span>(au)</a></code></pre></div>
<pre><code>## Assp Data Object of file /tmp/RtmpPnj5UC/emuR_demoData/ae_emuDB/0000_ses/msajc003_bndl/msajc003.wav.
## Format: WAVE (binary)
## 58089 records at 20000 Hz
## Duration: 2.904450 s
## Number of tracks: 1 
##   audio (1 fields)</code></pre>
<p>As can be seen in the above R code snippet, the resulting <code>au</code> object is of the class <code>AsspDataObj</code>. The output of <code>print</code> provides additional information about the object, such as its sampling rate, duration, data type and data structure information. Since the file we loaded is audio only, the object contains exactly one track. Further, since it is a mono file, this track only has a single field. We will later encounter different types of data with more than one track and multiple fields per track. The R code snippet below shows function calls that extract the various attributes from the object (e.g., duration, sampling rate and the number of records).</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"><span class="co"># show duration</span></a>
<a class="sourceLine" id="cb167-2" data-line-number="2"><span class="kw">dur.AsspDataObj</span>(au)</a></code></pre></div>
<pre><code>## [1] 2.90445</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1"><span class="co"># show sampling rate</span></a>
<a class="sourceLine" id="cb169-2" data-line-number="2"><span class="kw">rate.AsspDataObj</span>(au)</a></code></pre></div>
<pre><code>## [1] 20000</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="co"># show number of records/samples</span></a>
<a class="sourceLine" id="cb171-2" data-line-number="2"><span class="kw">numRecs.AsspDataObj</span>(au)</a></code></pre></div>
<pre><code>## [1] 58089</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1"><span class="co"># shorten filePath attribute</span></a>
<a class="sourceLine" id="cb173-2" data-line-number="2"><span class="co"># to 10 chars only to prettify output</span></a>
<a class="sourceLine" id="cb173-3" data-line-number="3"><span class="kw">attr</span>(au, <span class="st">&quot;filePath&quot;</span>)  =<span class="st"> </span><span class="kw">paste0</span>(<span class="kw">substr</span>(<span class="kw">attr</span>(au, <span class="st">&quot;filePath&quot;</span>),</a>
<a class="sourceLine" id="cb173-4" data-line-number="4">                                      <span class="dt">start =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb173-5" data-line-number="5">                                      <span class="dt">stop =</span> <span class="dv">45</span>), <span class="st">&quot;...&quot;</span>)</a>
<a class="sourceLine" id="cb173-6" data-line-number="6"><span class="co"># show additional attributes</span></a>
<a class="sourceLine" id="cb173-7" data-line-number="7"><span class="kw">attributes</span>(au)</a></code></pre></div>
<pre><code>## $names
## [1] &quot;audio&quot;
## 
## $trackFormats
## [1] &quot;INT16&quot;
## 
## $sampleRate
## [1] 20000
## 
## $filePath
## [1] &quot;/tmp/RtmpPnj5UC/emuR_demoData/ae_emuDB/0000_s...&quot;
## 
## $origFreq
## [1] 0
## 
## $startTime
## [1] 0
## 
## $startRecord
## [1] 1
## 
## $endRecord
## [1] 58089
## 
## $class
## [1] &quot;AsspDataObj&quot;
## 
## $fileInfo
## [1] 21  2</code></pre>
<p>The sample values belonging to a trackdata objects tracks are also stored within an <code>AsspDataObj</code> object. As mentioned above, the currently loaded object contains a single mono audio track. Accessing the data belonging to this track, in the form of a matrix, can be achieved using the trackâs name in combination with the <code>$</code> notation known from Râs common named <code>list</code> object. Each matrix has the same number of rows as the track has records and as many columns as the track has fields. The R code snippet below shows how the <code>audio</code> track can be accessed.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="co"># show track names</span></a>
<a class="sourceLine" id="cb175-2" data-line-number="2"><span class="kw">tracks.AsspDataObj</span>(au)</a></code></pre></div>
<pre><code>## [1] &quot;audio&quot;</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="co"># or an alternative way to show track names</span></a>
<a class="sourceLine" id="cb177-2" data-line-number="2"><span class="kw">names</span>(au)</a></code></pre></div>
<pre><code>## [1] &quot;audio&quot;</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="co"># show dimensions of audio attribute</span></a>
<a class="sourceLine" id="cb179-2" data-line-number="2"><span class="kw">dim</span>(au<span class="op">$</span>audio)</a></code></pre></div>
<pre><code>## [1] 58089     1</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="co"># show first sample value of audio attribute</span></a>
<a class="sourceLine" id="cb181-2" data-line-number="2"><span class="kw">head</span>(au<span class="op">$</span>audio, <span class="dt">n =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>##      [,1]
## [1,]   64</code></pre>
<p>This data can, for example, be used to generate an oscillogram of the audio file as shown in the R code snippet below, which produces Figure <a href="chap-wrassp.html#fig:wrassp-plotOsci">8.1</a>.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1"><span class="co"># calculate sample time of every 10th sample</span></a>
<a class="sourceLine" id="cb183-2" data-line-number="2">samplesIdx =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="kw">numRecs.AsspDataObj</span>(au) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb183-3" data-line-number="3">samplesTime =<span class="st"> </span>samplesIdx <span class="op">/</span><span class="st"> </span><span class="kw">rate.AsspDataObj</span>(au)</a>
<a class="sourceLine" id="cb183-4" data-line-number="4"></a>
<a class="sourceLine" id="cb183-5" data-line-number="5"><span class="co"># extract every 10th sample using window() function</span></a>
<a class="sourceLine" id="cb183-6" data-line-number="6">samples =<span class="st"> </span><span class="kw">window</span>(au<span class="op">$</span>audio, <span class="dt">deltat=</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb183-7" data-line-number="7"></a>
<a class="sourceLine" id="cb183-8" data-line-number="8"><span class="co"># plot samples stored in audio attribute</span></a>
<a class="sourceLine" id="cb183-9" data-line-number="9"><span class="co"># (only plot every 10th sample to accelerate plotting)</span></a>
<a class="sourceLine" id="cb183-10" data-line-number="10"><span class="kw">plot</span>(samplesTime,</a>
<a class="sourceLine" id="cb183-11" data-line-number="11">     samples,</a>
<a class="sourceLine" id="cb183-12" data-line-number="12">     <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>,</a>
<a class="sourceLine" id="cb183-13" data-line-number="13">     <span class="dt">xlab =</span> <span class="st">&quot;time (s)&quot;</span>,</a>
<a class="sourceLine" id="cb183-14" data-line-number="14">     <span class="dt">ylab =</span> <span class="st">&quot;Audio samples (INT16)&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:wrassp-plotOsci"></span>
<img src="wrassp_files/figure-html/wrassp-plotOsci-1.png" alt="Oscillogram generated from samples stored in the `audio` track of the object `au`." width="576" />
<p class="caption">
Figure 8.1: Oscillogram generated from samples stored in the <code>audio</code> track of the object <code>au</code>.
</p>
</div>
<p>The export counterpart to <code>read.AsspDataObj()</code> function is <code>write.AsspDataObj()</code>. It is used to store in-memory <code>AsspDataObj</code> objects to disk and is particularly useful for converting other formats to or storing data in the SSFF file format as described in Section <a href="#sec:wrassp-genSSFF"><strong>??</strong></a>. To show how this function can be used to write a slightly altered version of the <code>au</code> object to a file, the R code snippet below initially multiplies all the sample values of <code>au$audio</code> by a factor of <code>0.5</code>. The resulting <code>AsspDataObj</code> is then written to an audio file in a temporary directory provided by <code>R</code>âs <code>tempdir()</code> function.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1"><span class="co"># manipulate the audio samples</span></a>
<a class="sourceLine" id="cb184-2" data-line-number="2">au<span class="op">$</span>audio =<span class="st"> </span>au<span class="op">$</span>audio <span class="op">*</span><span class="st"> </span><span class="fl">0.5</span></a>
<a class="sourceLine" id="cb184-3" data-line-number="3"><span class="co"># write to file in directory</span></a>
<a class="sourceLine" id="cb184-4" data-line-number="4"><span class="co"># provided by tempdir()</span></a>
<a class="sourceLine" id="cb184-5" data-line-number="5"><span class="kw">write.AsspDataObj</span>(au, <span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&#39;newau.wav&#39;</span>))</a></code></pre></div>
</div>
<div id="signal-processing" class="section level2">
<h2><span class="header-section-number">8.3</span> Signal processing</h2>
<p>As mentioned in the introduction to this chapter, the <code>wrassp</code> package is capable of more than just the mere importing and exporting of specific signal file formats. This section will focus on demonstrating three of <code>wrassp</code>âs signal processing functions that calculate formant values, their corresponding bandwidths, the fundamental frequency contour and the RMS energy contour. Section <a href="chap-wrassp.html#subsec:wrassp-formants">8.5</a> and <a href="#subsec:wrassp-f0"><strong>??</strong></a> demonstrates signal processing to the audio file saved under <code>path2wav</code>, while Section <a href="chap-wrassp.html#subsec:wrassp-RMS">8.5.2</a> adresses processing all the audio files belonging to the <em>ae</em> <code>emuDB</code>.</p>
</div>
<div id="subsec:wrassp-wrasspOutputInfos" class="section level2">
<h2><span class="header-section-number">8.4</span> The <code>wrasspOutputInfos</code> object</h2>
<p>The <code>wrassp</code> package comes with the <code>wrasspOutputInfos</code> object, which provides information about the various signal processing functions provided by the package. The <code>wrasspOutputInfos</code> object stores meta information associated with the different signal processing functions <code>wrassp</code> provides. The R code snippet below shows the names of the <code>wrasspOutputInfos</code> object which correspond to the function names listed in the introduction of this chapter.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1"><span class="co"># show all function names</span></a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="kw">names</span>(wrasspOutputInfos)</a></code></pre></div>
<pre><code>##  [1] &quot;acfana&quot;      &quot;afdiff&quot;      &quot;affilter&quot;    &quot;cepstrum&quot;    &quot;cssSpectrum&quot;
##  [6] &quot;dftSpectrum&quot; &quot;ksvF0&quot;       &quot;mhsF0&quot;       &quot;forest&quot;      &quot;lpsSpectrum&quot;
## [11] &quot;rfcana&quot;      &quot;rmsana&quot;      &quot;zcrana&quot;</code></pre>
<p>This object can be useful to get additional information about a specific <code>wrassp</code> function. It contains information about the default file extension (<code>$ext</code>), the tracks produced (<code>$tracks</code>) and the output file type (<code>$outputType</code>). The R code snippet below shows this information for the <code>forest()</code> function.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1"><span class="co"># show output info of forest function</span></a>
<a class="sourceLine" id="cb187-2" data-line-number="2">wrasspOutputInfos<span class="op">$</span>forest</a></code></pre></div>
<pre><code>## $ext
## [1] &quot;fms&quot;
## 
## $tracks
## [1] &quot;fm&quot; &quot;bw&quot;
## 
## $outputType
## [1] &quot;SSFF&quot;</code></pre>
<p>The examples that follow will make use of this <code>wrasspOutputInfos</code> object mainly to acquire the default file extensions given by a specific <code>wrassp</code> signal processing function.</p>
</div>
<div id="subsec:wrassp-formants" class="section level2">
<h2><span class="header-section-number">8.5</span> Formants and their bandwidths</h2>
<p>The already mentioned <code>forest()</code> is <code>wrassp</code>âs formant estimation function. The default behavior of this formant tracker is to calculate the first four formants and their bandwidths. The R code snippet below shows the usage of this function. As the default behavior of every signal processing function provided by <code>wrassp</code> is to store its result to a file, the <code>toFile</code> parameter of <code>forest()</code> is set to <code>FALSE</code> to prevent this behavior. This results in the same <code>AsspDataObj</code> object as when exporting the result to file and then importing the file into R using <code>read.AsspDataObj()</code>, but circumvents the disk reading/writing overhead.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1"><span class="co"># calculate formants and corresponding bandwidth values</span></a>
<a class="sourceLine" id="cb189-2" data-line-number="2">fmBwVals =<span class="st"> </span><span class="kw">forest</span>(path2wav, <span class="dt">toFile=</span>F)</a>
<a class="sourceLine" id="cb189-3" data-line-number="3"></a>
<a class="sourceLine" id="cb189-4" data-line-number="4"><span class="co"># show class vector</span></a>
<a class="sourceLine" id="cb189-5" data-line-number="5"><span class="kw">class</span>(fmBwVals)</a></code></pre></div>
<pre><code>## [1] &quot;AsspDataObj&quot;</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="co"># show track names</span></a>
<a class="sourceLine" id="cb191-2" data-line-number="2"><span class="kw">tracks.AsspDataObj</span>(fmBwVals)</a></code></pre></div>
<pre><code>## [1] &quot;fm&quot; &quot;bw&quot;</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1"><span class="co"># show dimensions of &quot;fm&quot; track</span></a>
<a class="sourceLine" id="cb193-2" data-line-number="2"><span class="kw">dim</span>(fmBwVals<span class="op">$</span>fm)</a></code></pre></div>
<pre><code>## [1] 581   4</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1"><span class="co"># check dimensions of tracks are the same</span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="kw">all</span>(<span class="kw">dim</span>(fmBwVals<span class="op">$</span>fm) <span class="op">==</span><span class="st"> </span><span class="kw">dim</span>(fmBwVals<span class="op">$</span>bw))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>As can be seen in the above R code snippet, the object resulting from the <code>forest()</code> function is an object of class <code>AsspDataObj</code> with the tracks <code>&quot;fm&quot;</code> (formants) and <code>&quot;bw&quot;</code> (formant bandwidths), where both track matrices have four columns (corresponding to F1, F2, F3 and F4 in the <code>&quot;fm&quot;</code> track and F1<sub>bandwidth</sub>, F2<sub>bandwidth</sub>, F3<sub>bandwidth</sub> and F4<sub>bandwidth</sub> in the <code>&quot;bw&quot;</code> track) and 581 rows. To visualize the calculated formant values, the R code snippet below shows how Râs <code>matplot()</code> function can be used to produce Figure <a href="chap-wrassp.html#fig:wrassp-plotFms">8.2</a>.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1"><span class="co"># plot the formant values</span></a>
<a class="sourceLine" id="cb197-2" data-line-number="2"><span class="kw">matplot</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="kw">numRecs.AsspDataObj</span>(fmBwVals) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb197-3" data-line-number="3">        <span class="op">/</span><span class="st"> </span><span class="kw">rate.AsspDataObj</span>(fmBwVals)</a>
<a class="sourceLine" id="cb197-4" data-line-number="4">        <span class="op">+</span><span class="st"> </span><span class="kw">attr</span>(fmBwVals, <span class="st">&quot;startTime&quot;</span>),</a>
<a class="sourceLine" id="cb197-5" data-line-number="5">        fmBwVals<span class="op">$</span>fm,</a>
<a class="sourceLine" id="cb197-6" data-line-number="6">        <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>,</a>
<a class="sourceLine" id="cb197-7" data-line-number="7">        <span class="dt">xlab =</span> <span class="st">&quot;time (s)&quot;</span>,</a>
<a class="sourceLine" id="cb197-8" data-line-number="8">        <span class="dt">ylab =</span> <span class="st">&quot;Formant frequency (Hz)&quot;</span>)</a>
<a class="sourceLine" id="cb197-9" data-line-number="9"><span class="co"># add legend</span></a>
<a class="sourceLine" id="cb197-10" data-line-number="10">startFormant =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb197-11" data-line-number="11">endFormant =<span class="st"> </span><span class="dv">4</span></a>
<a class="sourceLine" id="cb197-12" data-line-number="12"><span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>,</a>
<a class="sourceLine" id="cb197-13" data-line-number="13">       <span class="dt">legend =</span> <span class="kw">paste0</span>(<span class="st">&quot;F&quot;</span>, startFormant<span class="op">:</span>endFormant),</a>
<a class="sourceLine" id="cb197-14" data-line-number="14">       <span class="dt">col =</span> startFormant<span class="op">:</span>endFormant,</a>
<a class="sourceLine" id="cb197-15" data-line-number="15">       <span class="dt">lty =</span> startFormant<span class="op">:</span>endFormant,</a>
<a class="sourceLine" id="cb197-16" data-line-number="16">       <span class="dt">bg =</span> <span class="st">&quot;white&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:wrassp-plotFms"></span>
<img src="wrassp_files/figure-html/wrassp-plotFms-1.png" alt="Matrix plot of formant values stored in the `fm` track of `fmBwVals` object." width="576" />
<p class="caption">
Figure 8.2: Matrix plot of formant values stored in the <code>fm</code> track of <code>fmBwVals</code> object.
</p>
</div>
<div id="subsec:wrassp_f0" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Fundamental frequency contour</h3>
<p>The <code>wrassp</code> package includes two fundamental frequency estimation functions called <code>ksvF0()</code> and <code>mhsF0()</code>. The R code snippet below shows the usage of the <code>ksvF0()</code> function, this time not utilizing the <code>toFile</code> parameter but rather to show an alternative procedure, reading the resulting SSFF file produced by it. It is worth noting that every signal processing function provided by <code>wrassp</code> creates a result file in the same directory as the audio file it was processing (except if the <code>outputDirectory</code> parameter is set otherwise). The default extension given by the <code>ksvF0()</code> is stored in <code>wrasspOutputInfos\$ksvF0\$ext</code>, which is used in the R code snippet below to create the newly generated fileâs path.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1"><span class="co"># calculate the fundamental frequency contour</span></a>
<a class="sourceLine" id="cb198-2" data-line-number="2"><span class="kw">ksvF0</span>(path2wav)</a>
<a class="sourceLine" id="cb198-3" data-line-number="3"></a>
<a class="sourceLine" id="cb198-4" data-line-number="4"><span class="co"># create path to newly generated file</span></a>
<a class="sourceLine" id="cb198-5" data-line-number="5">path2f0file =<span class="st"> </span><span class="kw">file.path</span>(path2bndl,</a>
<a class="sourceLine" id="cb198-6" data-line-number="6">                    <span class="kw">paste0</span>(<span class="st">&quot;msajc003.&quot;</span>,</a>
<a class="sourceLine" id="cb198-7" data-line-number="7">                           wrasspOutputInfos<span class="op">$</span>ksvF0<span class="op">$</span>ext))</a>
<a class="sourceLine" id="cb198-8" data-line-number="8"></a>
<a class="sourceLine" id="cb198-9" data-line-number="9"><span class="co"># read file from disk</span></a>
<a class="sourceLine" id="cb198-10" data-line-number="10">f0vals =<span class="st"> </span><span class="kw">read.AsspDataObj</span>(path2f0file)</a></code></pre></div>
<p>By analogy with to the formant estimation example, the R code snippet below shows how the <code>plot()</code> function can be used to visualize this data as in Figure <a href="chap-wrassp.html#fig:wrassp-plotF0">8.3</a>.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1"><span class="co"># plot the fundamental frequency contour</span></a>
<a class="sourceLine" id="cb199-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="kw">numRecs.AsspDataObj</span>(f0vals) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb199-3" data-line-number="3">     <span class="op">/</span><span class="st"> </span><span class="kw">rate.AsspDataObj</span>(f0vals) <span class="op">+</span></a>
<a class="sourceLine" id="cb199-4" data-line-number="4"><span class="st">       </span><span class="kw">attr</span>(f0vals, <span class="st">&quot;startTime&quot;</span>),</a>
<a class="sourceLine" id="cb199-5" data-line-number="5">     f0vals<span class="op">$</span>F0,</a>
<a class="sourceLine" id="cb199-6" data-line-number="6">     <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>,</a>
<a class="sourceLine" id="cb199-7" data-line-number="7">     <span class="dt">xlab =</span> <span class="st">&quot;time (s)&quot;</span>,</a>
<a class="sourceLine" id="cb199-8" data-line-number="8">     <span class="dt">ylab =</span> <span class="st">&quot;F0 frequency (Hz)&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:wrassp-plotF0"></span>
<img src="wrassp_files/figure-html/wrassp-plotF0-1.png" alt="Plot of fundamental frequency values stored in the `F0` track of `f0vals` object." width="576" />
<p class="caption">
Figure 8.3: Plot of fundamental frequency values stored in the <code>F0</code> track of <code>f0vals</code> object.
</p>
</div>
</div>
<div id="subsec:wrassp-RMS" class="section level3">
<h3><span class="header-section-number">8.5.2</span> RMS energy contour</h3>
<p>The <code>wrassp</code> function for calculating the short-term root mean square (RMS) amplitude of the signal is called <code>rmsana()</code>. As its usage is analogous to the above examples, here we will focus on using it to calculate the RMS values for all the audio files of the <code>ae</code> <code>emuDB</code>. The R code snippet below initially uses the <code>list.files()</code> function to aquire the file paths for every <code>.wav</code> file in the <code>ae</code> <code>emuDB</code>. As every signal processing function accepts one or multiple file paths, these file paths can simply be passed in as the main argument to the <code>rmsana()</code> function. As all of <code>wrassp</code>âs signal processing functions place their generated files in the same directory as the audio file they process, the <code>rmsana()</code> function will automatically place every <code>.rms</code> into the correct bundle directory.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="co"># list all .wav files in the ae emuDB</span></a>
<a class="sourceLine" id="cb200-2" data-line-number="2">paths2wavFiles =<span class="st"> </span><span class="kw">list.files</span>(path2ae, <span class="dt">pattern =</span> <span class="st">&quot;.*wav$&quot;</span>,</a>
<a class="sourceLine" id="cb200-3" data-line-number="3">                            <span class="dt">recursive =</span> <span class="ot">TRUE</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb200-4" data-line-number="4"></a>
<a class="sourceLine" id="cb200-5" data-line-number="5"><span class="co"># calculate the RMS energy values for all .wav files</span></a>
<a class="sourceLine" id="cb200-6" data-line-number="6"><span class="kw">rmsana</span>(paths2wavFiles)</a>
<a class="sourceLine" id="cb200-7" data-line-number="7"></a>
<a class="sourceLine" id="cb200-8" data-line-number="8"><span class="co"># list new .rms files using</span></a>
<a class="sourceLine" id="cb200-9" data-line-number="9"><span class="co"># wrasspOutputInfos-&gt;rmsana-&gt;ext</span></a>
<a class="sourceLine" id="cb200-10" data-line-number="10">rmsFPs =<span class="st"> </span><span class="kw">list.files</span>(path2ae,</a>
<a class="sourceLine" id="cb200-11" data-line-number="11">                    <span class="dt">pattern =</span> <span class="kw">paste0</span>(<span class="st">&quot;.*&quot;</span>,</a>
<a class="sourceLine" id="cb200-12" data-line-number="12">                                     wrasspOutputInfos<span class="op">$</span>rmsana<span class="op">$</span>ext),</a>
<a class="sourceLine" id="cb200-13" data-line-number="13">                    <span class="dt">recursive =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb200-14" data-line-number="14">                    <span class="dt">full.names =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb200-15" data-line-number="15"></a>
<a class="sourceLine" id="cb200-16" data-line-number="16"><span class="co"># read first RMS file</span></a>
<a class="sourceLine" id="cb200-17" data-line-number="17">rmsvals =<span class="st"> </span><span class="kw">read.AsspDataObj</span>(rmsFPs[<span class="dv">1</span>])</a></code></pre></div>
<p>The R code snippet below shows how the <code>plot()</code> function can be used to visualize this data as in Figure <a href="chap-wrassp.html#fig:wrassp-plotRMS">8.4</a>.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="co"># plot the RMS energy contour</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="kw">numRecs.AsspDataObj</span>(rmsvals) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb201-3" data-line-number="3">     <span class="op">/</span><span class="st"> </span><span class="kw">rate.AsspDataObj</span>(rmsvals)</a>
<a class="sourceLine" id="cb201-4" data-line-number="4">     <span class="op">+</span><span class="st"> </span><span class="kw">attr</span>(rmsvals, <span class="st">&quot;startTime&quot;</span>),</a>
<a class="sourceLine" id="cb201-5" data-line-number="5">     rmsvals<span class="op">$</span>rms,</a>
<a class="sourceLine" id="cb201-6" data-line-number="6">     <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>,</a>
<a class="sourceLine" id="cb201-7" data-line-number="7">     <span class="dt">xlab =</span> <span class="st">&quot;time (s)&quot;</span>,</a>
<a class="sourceLine" id="cb201-8" data-line-number="8">     <span class="dt">ylab =</span> <span class="st">&quot;RMS energy (dB)&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:wrassp-plotRMS"></span>
<img src="wrassp_files/figure-html/wrassp-plotRMS-1.png" alt="Plot of RMS values stored in `rms` track of the `rmsvals` object." width="576" />
<p class="caption">
Figure 8.4: Plot of RMS values stored in <code>rms</code> track of the <code>rmsvals</code> object.
</p>
</div>
</div>
</div>
<div id="sec:wrassp_logging" class="section level2">
<h2><span class="header-section-number">8.6</span> Logging <code>wrassp</code>âs function calls</h2>
<p>As it can be extremely important to keep track of information about how certain files are created and calculated, every signal processing function provided by the <code>wrassp</code> package comes with the ability to log its function calls to a specified log file. The R code snippet below shows a call to the <code>ksvF0()</code> function where a single parameter was changed from its default value (<code>windowShift = 10</code>). The content of the created log files (shown by the call to <code>readLines()</code>) contains the function name, time stamp, parameters that were altered and processed file path information. It is worth noting that a log file can be reused for multiple function calls as the log function does not overwrite an existing file but merely appends new log information to it.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="co"># create path to log file in root dir of ae emuDB</span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2">path2logFile =<span class="st"> </span><span class="kw">file.path</span>(path2ae, <span class="st">&quot;wrassp.log&quot;</span>)</a>
<a class="sourceLine" id="cb202-3" data-line-number="3"></a>
<a class="sourceLine" id="cb202-4" data-line-number="4"><span class="co"># calculate the fundamental frequency contour</span></a>
<a class="sourceLine" id="cb202-5" data-line-number="5"><span class="kw">ksvF0</span>(path2wav, <span class="dt">windowShift =</span> <span class="dv">10</span>, <span class="dt">forceToLog =</span> T, <span class="dt">optLogFilePath =</span> path2logFile)</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="co"># display content of log file (first 8 lines)</span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="kw">readLines</span>(path2logFile)[<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>]</a></code></pre></div>
<pre><code>## [1] &quot;&quot;                                   &quot;##################################&quot;
## [3] &quot;##################################&quot; &quot;######## ksvF0 performed ########&quot; 
## [5] &quot;Timestamp:  2019-11-18 16:30:15 &quot;   &quot;windowShift : 10 &quot;                 
## [7] &quot;forceToLog : T &quot;                    &quot; =&gt; on files:&quot;</code></pre>
</div>
<div id="sec:wrassp-emu-sdms" class="section level2">
<h2><span class="header-section-number">8.7</span> Using <code>wrassp</code> in the EMU-SDMS</h2>
<p>As shown in Section <a href="chap-wrassp.html#subsec:wrassp-RMS">8.5.2</a>, the <code>wrassp</code> signal processing functions can be used to calculate SSFF files and place them into the appropriate bundle directories. The only thing that has to be done to make an <code>emuDB</code> aware of these files is to add an SSFF track definition to the <code>emuDB</code> as shown in the R code snippet below. Once added, this SSFF track can be referenced via the <code>ssffTrackName</code> parameter of the <code>get_trackdata()</code> function as shown in various examples throughout this documentation. It is worth noting that this strategy is not necessarily relevant for applying the same signal processing to an entire <code>emuDB</code>, as this can be achieved using the on-the-fly <code>add_ssffTrackDefinition()</code> method described in the according R code snippet below. However, it becomes necessary if certain bundles are to be processed using deviating function parameters. This can, for example, be relevant when setting the minimum and maximum frequencies that are to be considered while estimating the fundamental frequencies (e.g., the <code>maxF</code> and <code>minF</code> of <code>ksvfF0()</code>) for female versus male speakers.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1"><span class="co"># load emuDB</span></a>
<a class="sourceLine" id="cb206-2" data-line-number="2">ae =<span class="st"> </span><span class="kw">load_emuDB</span>(path2ae)</a>
<a class="sourceLine" id="cb206-3" data-line-number="3"></a>
<a class="sourceLine" id="cb206-4" data-line-number="4"><span class="co"># add SSFF track defintion</span></a>
<a class="sourceLine" id="cb206-5" data-line-number="5"><span class="co"># that references the .rms files</span></a>
<a class="sourceLine" id="cb206-6" data-line-number="6"><span class="co"># calculated above</span></a>
<a class="sourceLine" id="cb206-7" data-line-number="7"><span class="co"># (i.e. no new files are calculated and added to the emuDB)</span></a>
<a class="sourceLine" id="cb206-8" data-line-number="8">ext =<span class="st"> </span>wrasspOutputInfos<span class="op">$</span>rmsana<span class="op">$</span>ext</a>
<a class="sourceLine" id="cb206-9" data-line-number="9">colName =<span class="st"> </span>wrasspOutputInfos<span class="op">$</span>rmsana<span class="op">$</span>tracks[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb206-10" data-line-number="10"><span class="kw">add_ssffTrackDefinition</span>(ae,</a>
<a class="sourceLine" id="cb206-11" data-line-number="11">                        <span class="dt">name =</span> <span class="st">&quot;rms&quot;</span>,</a>
<a class="sourceLine" id="cb206-12" data-line-number="12">                        <span class="dt">fileExtension =</span> ext,</a>
<a class="sourceLine" id="cb206-13" data-line-number="13">                        <span class="dt">columnName =</span> colName)</a></code></pre></div>
<p>A further way to utilize <code>wrassp</code>âs signal processing functions as part of the EMU-SDMS is via the <code>onTheFlyFunctionName</code> and <code>onTheFlyParams</code> parameters of the <code>add_ssffTrackDefinition()</code> and <code>get_trackdata()</code> functions. Using the <code>onTheFlyFunctionName</code> parameter in the <code>add_ssffTrackDefinition()</code> function automatically calculates the SSFF files while also adding the SSFF track definition. Using this parameter with the <code>get_trackdata()</code> function calls the given <code>wrassp</code> function with the <code>toFile</code> parameter set to <code>FALSE</code> and extracts the matching segments and places them in the resulting <code>trackdata</code> or <code>emuRtrackdata</code> object. In many cases, this avoids the necessity of having SSFF track definitions in the <code>emuDB</code>. In both functions, the optional <code>onTheFlyParams</code> parameter can be used to specify the parameters that are passed into the signal processing function. The R code snippet below shows how Râs <code>formals()</code> function can be used to get all the parameters of <code>wrassp</code>âs short-term positive and negative zero-crossing rate (ZCR) analysis function <code>zrcana()</code>. It then changes the default window size parameter to a new value and passes the parameters object into the <code>add_ssffTrackDefinition()</code> and <code>get_trackdata()</code> functions.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="co"># get all parameters of zcrana</span></a>
<a class="sourceLine" id="cb207-2" data-line-number="2">zcranaParams =<span class="st"> </span><span class="kw">formals</span>(<span class="st">&quot;zcrana&quot;</span>)</a>
<a class="sourceLine" id="cb207-3" data-line-number="3"></a>
<a class="sourceLine" id="cb207-4" data-line-number="4"><span class="co"># show names of parameters</span></a>
<a class="sourceLine" id="cb207-5" data-line-number="5"><span class="kw">names</span>(zcranaParams)</a></code></pre></div>
<pre><code>##  [1] &quot;listOfFiles&quot;     &quot;optLogFilePath&quot;  &quot;beginTime&quot;       &quot;centerTime&quot;     
##  [5] &quot;endTime&quot;         &quot;windowShift&quot;     &quot;windowSize&quot;      &quot;toFile&quot;         
##  [9] &quot;explicitExt&quot;     &quot;outputDirectory&quot; &quot;forceToLog&quot;      &quot;verbose&quot;</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1"><span class="co"># change window size from the default</span></a>
<a class="sourceLine" id="cb209-2" data-line-number="2"><span class="co"># value of 25 ms to 50 ms</span></a>
<a class="sourceLine" id="cb209-3" data-line-number="3">zcranaParams<span class="op">$</span>windowSize =<span class="st"> </span><span class="dv">50</span></a>
<a class="sourceLine" id="cb209-4" data-line-number="4"></a>
<a class="sourceLine" id="cb209-5" data-line-number="5"><span class="co"># to have a segment list to work with</span></a>
<a class="sourceLine" id="cb209-6" data-line-number="6"><span class="co"># query all Phonetic &#39;n&#39; segments</span></a>
<a class="sourceLine" id="cb209-7" data-line-number="7">sl =<span class="st"> </span><span class="kw">query</span>(ae, <span class="st">&quot;Phonetic == n&quot;</span>)</a>
<a class="sourceLine" id="cb209-8" data-line-number="8"></a>
<a class="sourceLine" id="cb209-9" data-line-number="9"><span class="co"># get trackdata calculating ZCR values on-the-fly</span></a>
<a class="sourceLine" id="cb209-10" data-line-number="10"><span class="co"># using the above parameters. Note that no files</span></a>
<a class="sourceLine" id="cb209-11" data-line-number="11"><span class="co"># are generated.</span></a>
<a class="sourceLine" id="cb209-12" data-line-number="12">td =<span class="st"> </span><span class="kw">get_trackdata</span>(ae, sl,</a>
<a class="sourceLine" id="cb209-13" data-line-number="13">                   <span class="dt">onTheFlyFunctionName =</span> <span class="st">&quot;zcrana&quot;</span>,</a>
<a class="sourceLine" id="cb209-14" data-line-number="14">                   <span class="dt">onTheFlyParams =</span> zcranaParams,</a>
<a class="sourceLine" id="cb209-15" data-line-number="15">                   <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb209-16" data-line-number="16"></a>
<a class="sourceLine" id="cb209-17" data-line-number="17"></a>
<a class="sourceLine" id="cb209-18" data-line-number="18"><span class="co"># add SSFF track definition. Note that</span></a>
<a class="sourceLine" id="cb209-19" data-line-number="19"><span class="co"># this time files are generated.</span></a>
<a class="sourceLine" id="cb209-20" data-line-number="20"><span class="kw">add_ssffTrackDefinition</span>(ae,</a>
<a class="sourceLine" id="cb209-21" data-line-number="21">                        <span class="dt">name =</span> <span class="st">&quot;zcr&quot;</span>,</a>
<a class="sourceLine" id="cb209-22" data-line-number="22">                        <span class="dt">onTheFlyFunctionName =</span> <span class="st">&quot;zcrana&quot;</span>,</a>
<a class="sourceLine" id="cb209-23" data-line-number="23">                        <span class="dt">onTheFlyParams =</span> zcranaParams,</a>
<a class="sourceLine" id="cb209-24" data-line-number="24">                        <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
</div>
<div id="sec:wrassp_genSSFF" class="section level2">
<h2><span class="header-section-number">8.8</span> Storing data in the SSFF file format</h2>
<p>One of the benefits gained by having the <code>AsspDataObj</code> in-memory object is that these objects can be constructed from scratch in R, as they are basically simple <code>list</code> objects. This means, for example, that any set of n-dimensional samples over time can be placed in a <code>AsspDataObj</code> and then stored as an SSFF file using the <code>write.AsspDataObj()</code> function. To show how this can be done, the R code snippet below creates an arbitrary data sample in the form of a single cycle sine wave between <span class="math inline">\(0\)</span> and <span class="math inline">\(2*pi\)</span> that is made up of 16000 samples and displays it in Figure <a href="chap-wrassp.html#fig:wrassp-genSin">8.5</a>.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1">x =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">2</span> <span class="op">*</span><span class="st"> </span>pi, <span class="dt">length.out =</span> <span class="dv">16000</span>)</a>
<a class="sourceLine" id="cb210-2" data-line-number="2">sineWave =<span class="st"> </span><span class="kw">sin</span>(x)</a>
<a class="sourceLine" id="cb210-3" data-line-number="3"><span class="kw">plot</span>(x, sineWave, <span class="dt">type =</span> <span class="st">&#39;l&#39;</span>,</a>
<a class="sourceLine" id="cb210-4" data-line-number="4">     <span class="dt">xlab =</span> <span class="st">&quot;x from 0 to 2*pi&quot;</span>,</a>
<a class="sourceLine" id="cb210-5" data-line-number="5">     <span class="dt">ylab =</span> <span class="st">&quot;&quot;</span>)</a></code></pre></div>
<div class="figure"><span id="fig:wrassp-genSin"></span>
<img src="wrassp_files/figure-html/wrassp-genSin-1.png" alt="A single cycle sine wave consisting of 16000 samples." width="576" />
<p class="caption">
Figure 8.5: A single cycle sine wave consisting of 16000 samples.
</p>
</div>
<p>Assuming a sample rate of 16 kHz <code>sineWave</code> would result in a sine wave with a frequency of 1 Hz and a duration of one second. The R code snippet below shows how a <code>AsspDataObj</code> can be created from scratch and the data in <code>sineWave</code> placed into one of its tracks. It then goes on to write the <code>AsspDataObj</code> object to an SSFF file.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1"><span class="co"># create empty list object</span></a>
<a class="sourceLine" id="cb211-2" data-line-number="2">ado =<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb211-3" data-line-number="3"></a>
<a class="sourceLine" id="cb211-4" data-line-number="4"><span class="co"># add sample rate attribute</span></a>
<a class="sourceLine" id="cb211-5" data-line-number="5"><span class="kw">attr</span>(ado, <span class="st">&quot;sampleRate&quot;</span>) =<span class="st"> </span><span class="dv">16000</span></a>
<a class="sourceLine" id="cb211-6" data-line-number="6"></a>
<a class="sourceLine" id="cb211-7" data-line-number="7"><span class="co"># add start time attribute</span></a>
<a class="sourceLine" id="cb211-8" data-line-number="8"><span class="kw">attr</span>(ado, <span class="st">&quot;startTime&quot;</span>) =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb211-9" data-line-number="9"></a>
<a class="sourceLine" id="cb211-10" data-line-number="10"><span class="co"># add start record attribute</span></a>
<a class="sourceLine" id="cb211-11" data-line-number="11"><span class="kw">attr</span>(ado, <span class="st">&quot;startRecord&quot;</span>) =<span class="st"> </span><span class="kw">as.integer</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb211-12" data-line-number="12"></a>
<a class="sourceLine" id="cb211-13" data-line-number="13"><span class="co"># add end record attribute</span></a>
<a class="sourceLine" id="cb211-14" data-line-number="14"><span class="kw">attr</span>(ado, <span class="st">&quot;endRecord&quot;</span>) =<span class="st"> </span><span class="kw">as.integer</span>(<span class="kw">length</span>(sineWave))</a>
<a class="sourceLine" id="cb211-15" data-line-number="15"></a>
<a class="sourceLine" id="cb211-16" data-line-number="16"><span class="co"># set class of ado</span></a>
<a class="sourceLine" id="cb211-17" data-line-number="17"><span class="kw">class</span>(ado) =<span class="st"> &quot;AsspDataObj&quot;</span></a>
<a class="sourceLine" id="cb211-18" data-line-number="18"></a>
<a class="sourceLine" id="cb211-19" data-line-number="19"><span class="co"># show available file formats</span></a>
<a class="sourceLine" id="cb211-20" data-line-number="20">AsspFileFormats</a></code></pre></div>
<pre><code>##     RAW   ASP_A   ASP_B   XASSP  IPDS_M  IPDS_S    AIFF    AIFC     CSL    CSRE 
##       1       2       3       4       5       6       7       8       9      10 
##    ESPS     ILS     KTH   SWELL   SNACK     SFS     SND      AU    NIST  SPHERE 
##      11      12      13      13      13      14      15      15      16      16 
## PRAAT_S PRAAT_L PRAAT_B    SSFF    WAVE  WAVE_X  XLABEL    YORK     UWM 
##      17      18      19      20      21      22      24      25      26</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1"><span class="co"># set file format to SSFF</span></a>
<a class="sourceLine" id="cb213-2" data-line-number="2"><span class="co"># </span><span class="al">NOTE</span><span class="co">: assignment of &quot;SSFF&quot; also possible</span></a>
<a class="sourceLine" id="cb213-3" data-line-number="3"><span class="kw">AsspFileFormat</span>(ado) =<span class="st"> </span><span class="kw">as.integer</span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb213-4" data-line-number="4"></a>
<a class="sourceLine" id="cb213-5" data-line-number="5"><span class="co"># set data format (1 == &#39;ascii&#39; and 2 == &#39;binary&#39;)</span></a>
<a class="sourceLine" id="cb213-6" data-line-number="6"><span class="kw">AsspDataFormat</span>(ado) =<span class="st"> </span><span class="kw">as.integer</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb213-7" data-line-number="7"></a>
<a class="sourceLine" id="cb213-8" data-line-number="8"><span class="co"># set track format specifiers</span></a>
<a class="sourceLine" id="cb213-9" data-line-number="9"><span class="co"># (available track formats for numbers</span></a>
<a class="sourceLine" id="cb213-10" data-line-number="10"><span class="co"># that match their C equivalent are:</span></a>
<a class="sourceLine" id="cb213-11" data-line-number="11"><span class="co"># &quot;UINT8&quot;; &quot;INT8&quot;; &quot;UINT16&quot;; &quot;INT16&quot;;</span></a>
<a class="sourceLine" id="cb213-12" data-line-number="12"><span class="co"># &quot;UINT24&quot;; &quot;INT24&quot;; &quot;UINT32&quot;; &quot;INT32&quot;;</span></a>
<a class="sourceLine" id="cb213-13" data-line-number="13"><span class="co"># &quot;UINT64&quot;; &quot;INT64&quot;; &quot;REAL32&quot;; &quot;REAL64&quot;);</span></a>
<a class="sourceLine" id="cb213-14" data-line-number="14"><span class="kw">attr</span>(ado, <span class="st">&quot;trackFormats&quot;</span>) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;REAL32&quot;</span>)</a>
<a class="sourceLine" id="cb213-15" data-line-number="15"></a>
<a class="sourceLine" id="cb213-16" data-line-number="16"><span class="co"># add track</span></a>
<a class="sourceLine" id="cb213-17" data-line-number="17">ado =<span class="st"> </span><span class="kw">addTrack</span>(ado, <span class="st">&quot;sine&quot;</span>, sineWave, <span class="st">&quot;REAL32&quot;</span>)</a>
<a class="sourceLine" id="cb213-18" data-line-number="18"></a>
<a class="sourceLine" id="cb213-19" data-line-number="19"><span class="co"># write AsspDataObj object to file</span></a>
<a class="sourceLine" id="cb213-20" data-line-number="20"><span class="kw">write.AsspDataObj</span>(<span class="dt">dobj =</span> ado,</a>
<a class="sourceLine" id="cb213-21" data-line-number="21">                  <span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;example.sine&quot;</span>))</a></code></pre></div>
<pre><code>## NULL</code></pre>
<p>Although somewhat of a generic example, the above R code snippet shows how to generate an <code>AsspDataObj</code> from scratch. This approach can, for example, be used to read in signal data produced by other software or signal data acquisition devices. Hence, this approach can be used to import many forms of data into the EMU-SDMS. Appendix @ref(sec:app-chap-wrassp-praatsSigProc} shows an example of how this approach can be used to take advantage of Praatâs signal processing capabilities and integrate its output into the EMU-SDMS.</p>
</div>
<div id="conclusion-4" class="section level2">
<h2><span class="header-section-number">8.9</span> Conclusion</h2>
<p>The <code>wrassp</code> packages enriches the R package landscape by providing functionality for handling speech signal files in most common audio formats and for performing signal analyses common in the phonetic and speech sciences. The EMU-SDMS utilizes the functionality that the <code>wrassp</code> package provides by allowing the user to calculate signals that match the segments of a segment list. This can either be done in real time or by extracting the signals from files. Hence, the <code>wrassp</code> package is an integral part of the EMU-SDMS but can also be used as a standalone package if so desired.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>Some examples of this chapter are adapted version of examples given in the legacy <code>wrassp_intro</code> vignette of the <code>wrassp</code> package.<a href="chap-wrassp.html#fnref15" class="footnote-back">â©</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap-sigDataExtr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-emu-webApp.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IPS-LMU/The-EMU-SDMS-Manual/edit/master/wrassp.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
