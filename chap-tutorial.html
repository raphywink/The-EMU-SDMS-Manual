<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual</title>
  <meta name="description" content="3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/" />
  <meta property="og:image" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/pics/EMU-webAppIcon-roundCorners.png" />
  <meta property="og:description" content="3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual" />
  <meta name="github-repo" content="IPS-LMU/The-EMU-SDMS-Manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual" />
  
  <meta name="twitter:description" content="3 A tutorial on how to use the EMU-SDMS2 | The EMU-SDMS Manual" />
  <meta name="twitter:image" content="https://ips-lmu.github.io/The-EMU-SDMS-Manual/pics/EMU-webAppIcon-roundCorners.png" />

<meta name="author" content="Raphael Winkelmann" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap-overview.html"/>
<link rel="next" href="chap-annot-struct-mod.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">The EMU-SDMS Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html"><i class="fa fa-check"></i><b>1</b> Installing the EMU-SDMS</a><ul>
<li class="chapter" data-level="1.1" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html#version-disclaimer"><i class="fa fa-check"></i><b>1.1</b> Version disclaimer</a></li>
<li class="chapter" data-level="1.2" data-path="installing-the-emu-sdms.html"><a href="installing-the-emu-sdms.html#for-developers-and-people-interested-in-the-source-code"><i class="fa fa-check"></i><b>1.2</b> For developers and people interested in the source code</a></li>
</ul></li>
<li class="part"><span><b>I Overview and tutorial</b></span></li>
<li class="chapter" data-level="2" data-path="chap-overview.html"><a href="chap-overview.html"><i class="fa fa-check"></i><b>2</b> An overview of the EMU-SDMS</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-overview.html"><a href="chap-overview.html#the-evolution-of-the-emu-sdms"><i class="fa fa-check"></i><b>2.1</b> The evolution of the EMU-SDMS</a></li>
<li class="chapter" data-level="2.2" data-path="chap-overview.html"><a href="chap-overview.html#sec:overview-sysArch"><i class="fa fa-check"></i><b>2.2</b> EMU-SDMS: System architecture and default workflow</a></li>
<li class="chapter" data-level="2.3" data-path="chap-overview.html"><a href="chap-overview.html#emu-sdms-is-it-something-for-you"><i class="fa fa-check"></i><b>2.3</b> EMU-SDMS: Is it something for you?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-tutorial.html"><a href="chap-tutorial.html"><i class="fa fa-check"></i><b>3</b> A tutorial on how to use the EMU-SDMS</a><ul>
<li class="chapter" data-level="3.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#converting-the-textgrid-collection"><i class="fa fa-check"></i><b>3.1</b> Converting the TextGrid collection</a></li>
<li class="chapter" data-level="3.2" data-path="chap-tutorial.html"><a href="chap-tutorial.html#loading-and-inspecting-the-database"><i class="fa fa-check"></i><b>3.2</b> Loading and inspecting the database</a><ul>
<li class="chapter" data-level="3.2.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#overview"><i class="fa fa-check"></i><b>3.2.1</b> Overview</a></li>
<li class="chapter" data-level="3.2.2" data-path="chap-tutorial.html"><a href="chap-tutorial.html#database-annotation-and-visual-inspection"><i class="fa fa-check"></i><b>3.2.2</b> Database annotation and visual inspection</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chap-tutorial.html"><a href="chap-tutorial.html#querying-and-autobuilding-the-annotation-structure"><i class="fa fa-check"></i><b>3.3</b> Querying and autobuilding the annotation structure</a></li>
<li class="chapter" data-level="3.4" data-path="chap-tutorial.html"><a href="chap-tutorial.html#autobuilding"><i class="fa fa-check"></i><b>3.4</b> Autobuilding</a><ul>
<li class="chapter" data-level="3.4.1" data-path="chap-tutorial.html"><a href="chap-tutorial.html#querying-the-hierarchical-annotations"><i class="fa fa-check"></i><b>3.4.1</b> Querying the hierarchical annotations</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="chap-tutorial.html"><a href="chap-tutorial.html#section:tutorial-sigExtrAndExpl"><i class="fa fa-check"></i><b>3.5</b> Signal extraction and exploration</a></li>
<li class="chapter" data-level="3.6" data-path="chap-tutorial.html"><a href="chap-tutorial.html#vowel-height-as-a-function-of-word-types-content-vs.function-evaluation-and-statistical-analysis"><i class="fa fa-check"></i><b>3.6</b> Vowel height as a function of word types (content vs.Â function): evaluation and statistical analysis</a></li>
<li class="chapter" data-level="3.7" data-path="chap-tutorial.html"><a href="chap-tutorial.html#conclusion"><i class="fa fa-check"></i><b>3.7</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Main components and concepts</b></span></li>
<li class="chapter" data-level="4" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html"><i class="fa fa-check"></i><b>4</b> Annotation Structure Modeling</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#per-database-annotation-structure-definition"><i class="fa fa-check"></i><b>4.1</b> Per database annotation structure definition</a></li>
<li class="chapter" data-level="4.2" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#parallel-labels-and-multiple-attributes"><i class="fa fa-check"></i><b>4.2</b> Parallel labels and multiple attributes</a></li>
<li class="chapter" data-level="4.3" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#metadata-strategy-using-single-bundle-root-nodes"><i class="fa fa-check"></i><b>4.3</b> Metadata strategy using single bundle root nodes</a></li>
<li class="chapter" data-level="4.4" data-path="chap-annot-struct-mod.html"><a href="chap-annot-struct-mod.html#conclusion-1"><i class="fa fa-check"></i><b>4.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-emuDB.html"><a href="chap-emuDB.html"><i class="fa fa-check"></i><b>5</b> The <code>emuDB</code> Format</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-emuDB.html"><a href="chap-emuDB.html#database-design"><i class="fa fa-check"></i><b>5.1</b> Database design</a></li>
<li class="chapter" data-level="5.2" data-path="chap-emuDB.html"><a href="chap-emuDB.html#creating-an-emudb"><i class="fa fa-check"></i><b>5.2</b> Creating an <code>emuDB</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="chap-emuDB.html"><a href="chap-emuDB.html#creating-an-emudb-from-scratch"><i class="fa fa-check"></i><b>5.2.1</b> Creating an <code>emuDB</code> from scratch</a></li>
<li class="chapter" data-level="5.2.2" data-path="chap-emuDB.html"><a href="chap-emuDB.html#loading-and-editing-an-empty-database"><i class="fa fa-check"></i><b>5.2.2</b> Loading and editing an empty database</a></li>
<li class="chapter" data-level="5.2.3" data-path="chap-emuDB.html"><a href="chap-emuDB.html#level-definitions"><i class="fa fa-check"></i><b>5.2.3</b> Level definitions</a></li>
<li class="chapter" data-level="5.2.4" data-path="chap-emuDB.html"><a href="chap-emuDB.html#link-definitions"><i class="fa fa-check"></i><b>5.2.4</b> Link definitions</a></li>
<li class="chapter" data-level="5.2.5" data-path="chap-emuDB.html"><a href="chap-emuDB.html#file-handling"><i class="fa fa-check"></i><b>5.2.5</b> File handling</a></li>
<li class="chapter" data-level="5.2.6" data-path="chap-emuDB.html"><a href="chap-emuDB.html#ssff-track-definitions"><i class="fa fa-check"></i><b>5.2.6</b> SSFF track definitions</a></li>
<li class="chapter" data-level="5.2.7" data-path="chap-emuDB.html"><a href="chap-emuDB.html#configuring-the-emu-webapp-and-annotating-the-emudb"><i class="fa fa-check"></i><b>5.2.7</b> Configuring the <code>EMU-webApp</code> and annotating the <code>emuDB</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chap-emuDB.html"><a href="chap-emuDB.html#conclusion-2"><i class="fa fa-check"></i><b>5.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-querysys.html"><a href="chap-querysys.html"><i class="fa fa-check"></i><b>6</b> The query system</a><ul>
<li class="chapter" data-level="6.1" data-path="chap-querysys.html"><a href="chap-querysys.html#sec:query-emuRsegs"><i class="fa fa-check"></i><b>6.1</b> The resulting object of a query</a></li>
<li class="chapter" data-level="6.2" data-path="chap-querysys.html"><a href="chap-querysys.html#eql-the-emu-query-language-version-2"><i class="fa fa-check"></i><b>6.2</b> <code>EQL</code>: The EMU Query Language version 2</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chap-querysys.html"><a href="chap-querysys.html#simple-queries"><i class="fa fa-check"></i><b>6.2.1</b> Simple queries</a></li>
<li class="chapter" data-level="6.2.2" data-path="chap-querysys.html"><a href="chap-querysys.html#combining-simple-queries"><i class="fa fa-check"></i><b>6.2.2</b> Combining simple queries</a></li>
<li class="chapter" data-level="6.2.3" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query-positionQueries"><i class="fa fa-check"></i><b>6.2.3</b> Position queries</a></li>
<li class="chapter" data-level="6.2.4" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query-countQueries"><i class="fa fa-check"></i><b>6.2.4</b> Count queries</a></li>
<li class="chapter" data-level="6.2.5" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query-moreComplexQueries"><i class="fa fa-check"></i><b>6.2.5</b> More complex queries</a></li>
<li class="chapter" data-level="6.2.6" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:query-deducingTime"><i class="fa fa-check"></i><b>6.2.6</b> Deducing time</a></li>
<li class="chapter" data-level="6.2.7" data-path="chap-querysys.html"><a href="chap-querysys.html#subsec:requery"><i class="fa fa-check"></i><b>6.2.7</b> Requery</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chap-querysys.html"><a href="chap-querysys.html#discussion"><i class="fa fa-check"></i><b>6.3</b> Discussion</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html"><i class="fa fa-check"></i><b>7</b> Signal data extraction</a><ul>
<li class="chapter" data-level="7.1" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#extracting-pre-defined-tracks"><i class="fa fa-check"></i><b>7.1</b> Extracting pre-defined tracks</a></li>
<li class="chapter" data-level="7.2" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#adding-new-tracks"><i class="fa fa-check"></i><b>7.2</b> Adding new tracks</a></li>
<li class="chapter" data-level="7.3" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#calculating-tracks-on-the-fly"><i class="fa fa-check"></i><b>7.3</b> Calculating tracks on-the-fly</a></li>
<li class="chapter" data-level="7.4" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#the-resulting-object-tibble"><i class="fa fa-check"></i><b>7.4</b> The resulting object: <code>tibble</code></a></li>
<li class="chapter" data-level="7.5" data-path="chap-sigDataExtr.html"><a href="chap-sigDataExtr.html#conclusion-3"><i class="fa fa-check"></i><b>7.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap-wrassp.html"><a href="chap-wrassp.html"><i class="fa fa-check"></i><b>8</b> The R package <code>wrassp</code></a><ul>
<li class="chapter" data-level="8.1" data-path="chap-wrassp.html"><a href="chap-wrassp.html#introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="chap-wrassp.html"><a href="chap-wrassp.html#file-i0-and-the-asspdataobj"><i class="fa fa-check"></i><b>8.2</b> File I/0 and the <code>AsspDataObj</code></a></li>
<li class="chapter" data-level="8.3" data-path="chap-wrassp.html"><a href="chap-wrassp.html#signal-processing"><i class="fa fa-check"></i><b>8.3</b> Signal processing</a></li>
<li class="chapter" data-level="8.4" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-wrasspOutputInfos"><i class="fa fa-check"></i><b>8.4</b> The <code>wrasspOutputInfos</code> object</a></li>
<li class="chapter" data-level="8.5" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-formants"><i class="fa fa-check"></i><b>8.5</b> Formants and their bandwidths</a><ul>
<li class="chapter" data-level="8.5.1" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp_f0"><i class="fa fa-check"></i><b>8.5.1</b> Fundamental frequency contour</a></li>
<li class="chapter" data-level="8.5.2" data-path="chap-wrassp.html"><a href="chap-wrassp.html#subsec:wrassp-RMS"><i class="fa fa-check"></i><b>8.5.2</b> RMS energy contour</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp_logging"><i class="fa fa-check"></i><b>8.6</b> Logging <code>wrassp</code>âs function calls</a></li>
<li class="chapter" data-level="8.7" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp-emu-sdms"><i class="fa fa-check"></i><b>8.7</b> Using <code>wrassp</code> in the EMU-SDMS</a></li>
<li class="chapter" data-level="8.8" data-path="chap-wrassp.html"><a href="chap-wrassp.html#sec:wrassp_genSSFF"><i class="fa fa-check"></i><b>8.8</b> Storing data in the SSFF file format</a></li>
<li class="chapter" data-level="8.9" data-path="chap-wrassp.html"><a href="chap-wrassp.html#conclusion-4"><i class="fa fa-check"></i><b>8.9</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html"><i class="fa fa-check"></i><b>9</b> The <code>EMU-webApp</code></a><ul>
<li class="chapter" data-level="9.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#sec:emu-webApp-mainLayout"><i class="fa fa-check"></i><b>9.1</b> Main layout</a></li>
<li class="chapter" data-level="9.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#sec:webApp-generalUsage"><i class="fa fa-check"></i><b>9.2</b> General usage</a><ul>
<li class="chapter" data-level="9.2.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#annotating-levels-containing-time-information"><i class="fa fa-check"></i><b>9.2.1</b> Annotating levels containing time information</a></li>
<li class="chapter" data-level="9.2.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#working-with-hierarchical-annotations-2-chapemu-webapp"><i class="fa fa-check"></i><b>9.2.2</b> Working with hierarchical annotations</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#configuring-the-emu-webapp"><i class="fa fa-check"></i><b>9.3</b> Configuring the <code>EMU-webApp</code></a><ul>
<li class="chapter" data-level="9.3.1" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#subsec:emu-webAppConfigWithEmuR"><i class="fa fa-check"></i><b>9.3.1</b> Basic configurations using <code>emuR</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#signal-canvas-and-level-canvas-order"><i class="fa fa-check"></i><b>9.3.2</b> Signal canvas and level canvas order</a></li>
<li class="chapter" data-level="9.3.3" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#subsec:emu-webAppAdvancedConfig"><i class="fa fa-check"></i><b>9.3.3</b> Advanced configurations made by editing the <code>_DBconfig.json</code></a></li>
<li class="chapter" data-level="9.3.4" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#d-canvas"><i class="fa fa-check"></i><b>9.3.4</b> 2D canvas</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="chap-emu-webApp.html"><a href="chap-emu-webApp.html#conclusion-5"><i class="fa fa-check"></i><b>9.4</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>III Main <code>emuR</code> function and object index</b></span></li>
<li class="chapter" data-level="10" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html"><i class="fa fa-check"></i><b>10</b> <code>emuR</code> - package functions</a><ul>
<li class="chapter" data-level="10.1" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-importRoutines"><i class="fa fa-check"></i><b>10.1</b> Import and conversion routines</a><ul>
<li class="chapter" data-level="10.1.1" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#legacy-emu-databases"><i class="fa fa-check"></i><b>10.1.1</b> Legacy EMU databases</a></li>
<li class="chapter" data-level="10.1.2" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#textgrid-collections"><i class="fa fa-check"></i><b>10.1.2</b> TextGrid collections</a></li>
<li class="chapter" data-level="10.1.3" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#bpf-collections"><i class="fa fa-check"></i><b>10.1.3</b> BPF collections</a></li>
<li class="chapter" data-level="10.1.4" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#txt-collections"><i class="fa fa-check"></i><b>10.1.4</b> txt collections</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-emuDBinteract"><i class="fa fa-check"></i><b>10.2</b> <code>emuDB</code> interaction and configuration routines</a></li>
<li class="chapter" data-level="10.3" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-emuWebAppConfig"><i class="fa fa-check"></i><b>10.3</b> <code>EMU-webApp</code> configuration routines</a></li>
<li class="chapter" data-level="10.4" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-dataExtr"><i class="fa fa-check"></i><b>10.4</b> Data extraction routines</a></li>
<li class="chapter" data-level="10.5" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-centralObjects"><i class="fa fa-check"></i><b>10.5</b> Central objects</a></li>
<li class="chapter" data-level="10.6" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#sec:emuRpackageDetails-exportRoutines"><i class="fa fa-check"></i><b>10.6</b> Export routines</a></li>
<li class="chapter" data-level="10.7" data-path="chap-emuRpackageDetails.html"><a href="chap-emuRpackageDetails.html#conclusion-6"><i class="fa fa-check"></i><b>10.7</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>IV Implementation</b></span></li>
<li class="chapter" data-level="11" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html"><i class="fa fa-check"></i><b>11</b> Implementation of the query system</a><ul>
<li class="chapter" data-level="11.1" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html#sec:query-queryExpressionParser"><i class="fa fa-check"></i><b>11.1</b> Query expression parser</a></li>
<li class="chapter" data-level="11.2" data-path="chap-querysys-impl.html"><a href="chap-querysys-impl.html#subsec:query-redundantLinks"><i class="fa fa-check"></i><b>11.2</b> Redundant links</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="chap-wrassp-impl.html"><a href="chap-wrassp-impl.html"><i class="fa fa-check"></i><b>12</b> <code>wrassp</code> implementation</a><ul>
<li class="chapter" data-level="12.1" data-path="chap-wrassp-impl.html"><a href="chap-wrassp-impl.html#the-libassp-port"><i class="fa fa-check"></i><b>12.1</b> The <code>libassp</code> port</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html"><i class="fa fa-check"></i><b>13</b> <code>EMU-webApp</code> implementation</a><ul>
<li class="chapter" data-level="13.1" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#subsec:emu-webAppTheProtocol"><i class="fa fa-check"></i><b>13.1</b> Communication protocol</a></li>
<li class="chapter" data-level="13.2" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#url-parameters"><i class="fa fa-check"></i><b>13.2</b> URL parameters</a><ul>
<li class="chapter" data-level="13.2.1" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#websocket-server-parameters"><i class="fa fa-check"></i><b>13.2.1</b> Websocket server parameters</a></li>
<li class="chapter" data-level="13.2.2" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#examples"><i class="fa fa-check"></i><b>13.2.2</b> Examples</a></li>
<li class="chapter" data-level="13.2.3" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#label-file-preview-parameters"><i class="fa fa-check"></i><b>13.2.3</b> Label file preview parameters</a></li>
<li class="chapter" data-level="13.2.4" data-path="chap-emu-webAppImplementation.html"><a href="chap-emu-webAppImplementation.html#examples-1"><i class="fa fa-check"></i><b>13.2.4</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Appendices</b></span></li>
<li class="chapter" data-level="14" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html"><i class="fa fa-check"></i><b>14</b> Use cases</a><ul>
<li class="chapter" data-level="14.1" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q1"><i class="fa fa-check"></i><b>14.1</b> What is the average length of all <em>n</em> phonetic segments in the <em>ae</em> <code>emuDB</code>?</a></li>
<li class="chapter" data-level="14.2" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q2"><i class="fa fa-check"></i><b>14.2</b> What does the F1 and F2 distribution of all phonetic segments that contain the labels <em>I</em>, <em>o:</em>, <em>u:</em>, <em>V</em> or <em>@</em> look like?</a></li>
<li class="chapter" data-level="14.3" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q3"><i class="fa fa-check"></i><b>14.3</b> What words do the phonetic segments that carry the labels <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> occur in and what is their phonetic context?</a></li>
<li class="chapter" data-level="14.4" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#sec:app-chap-useCases-q4"><i class="fa fa-check"></i><b>14.4</b> Do the phonetic segments labeled <em>s</em>, <em>z</em>, <em>S</em> or <em>Z</em> in the <em>ae</em> <code>emuDB</code> differ with respect to their first spectral moment?\footnote{The original version of this use case was written by Florian Schiel as part of the <code>emuR_intro</code> vignette that is part of the <code>emuR</code> package.</a><ul>
<li class="chapter" data-level="14.4.1" data-path="app-chap-useCases.html"><a href="app-chap-useCases.html#note-see-refrecipespectralanalysis-for-more-up-to-date-methods-of-performing-spectral-analysis"><i class="fa fa-check"></i><b>14.4.1</b> NOTE: See @ref(recipe:spectralAnalysis) for more up to date methods of performing spectral analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html"><i class="fa fa-check"></i><b>15</b> File Formats</a><ul>
<li class="chapter" data-level="15.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#file-descriptions"><i class="fa fa-check"></i><b>15.1</b> File descriptions</a><ul>
<li class="chapter" data-level="15.1.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsDBconfig"><i class="fa fa-check"></i><b>15.1.1</b> <code>_DBconfig.json</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsAnnotJSON"><i class="fa fa-check"></i><b>15.1.2</b> <code>_annot.json</code></a></li>
<li class="chapter" data-level="15.1.3" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapFileFormatsSSFF"><i class="fa fa-check"></i><b>15.1.3</b> The SSFF file format</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#example-files"><i class="fa fa-check"></i><b>15.2</b> Example files</a><ul>
<li class="chapter" data-level="15.2.1" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapExampleFilesBundleList"><i class="fa fa-check"></i><b>15.2.1</b> <code>_bundleList.json</code></a></li>
<li class="chapter" data-level="15.2.2" data-path="app-chap-fileFormats.html"><a href="app-chap-fileFormats.html#subsec:app-chapExampleFilesBndlJSON"><i class="fa fa-check"></i><b>15.2.2</b> <code>_bndl.json</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html"><i class="fa fa-check"></i><b>16</b> The <code>EMU-webApp-websocket-protocol</code> Version 2.0</a><ul>
<li class="chapter" data-level="16.1" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#protocol-overview"><i class="fa fa-check"></i><b>16.1</b> Protocol overview</a></li>
<li class="chapter" data-level="16.2" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#protocol-commands"><i class="fa fa-check"></i><b>16.2</b> Protocol commands</a><ul>
<li class="chapter" data-level="16.2.1" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getprotocol"><i class="fa fa-check"></i><b>16.2.1</b> <code>GETPROTOCOL</code></a></li>
<li class="chapter" data-level="16.2.2" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getdousermanagement"><i class="fa fa-check"></i><b>16.2.2</b> <code>GETDOUSERMANAGEMENT</code></a></li>
<li class="chapter" data-level="16.2.3" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#logonuser"><i class="fa fa-check"></i><b>16.2.3</b> <code>LOGONUSER</code></a></li>
<li class="chapter" data-level="16.2.4" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getglobaldbconfig"><i class="fa fa-check"></i><b>16.2.4</b> <code>GETGLOBALDBCONFIG</code></a></li>
<li class="chapter" data-level="16.2.5" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getbundlelist"><i class="fa fa-check"></i><b>16.2.5</b> <code>GETBUNDLELIST</code></a></li>
<li class="chapter" data-level="16.2.6" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#getbundle"><i class="fa fa-check"></i><b>16.2.6</b> <code>GETBUNDLE</code></a></li>
<li class="chapter" data-level="16.2.7" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#savebundle"><i class="fa fa-check"></i><b>16.2.7</b> <code>SAVEBUNDLE</code></a></li>
<li class="chapter" data-level="16.2.8" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#disconnectwarning"><i class="fa fa-check"></i><b>16.2.8</b> <code>DISCONNECTWARNING</code></a></li>
<li class="chapter" data-level="16.2.9" data-path="app-chap-wsProtocol.html"><a href="app-chap-wsProtocol.html#error-handling"><i class="fa fa-check"></i><b>16.2.9</b> Error handling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html"><i class="fa fa-check"></i><b>17</b> EQL EBNF</a><ul>
<li class="chapter" data-level="17.1" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-operators-and-their-meaning"><i class="fa fa-check"></i><b>17.1</b> Terminal symbols of EQL2 (operators) and their meaning</a></li>
<li class="chapter" data-level="17.2" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-brackets-and-their-meanings."><i class="fa fa-check"></i><b>17.2</b> Terminal symbols of EQL2 (brackets) and their meanings.</a></li>
<li class="chapter" data-level="17.3" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#terminal-symbols-of-eql2-functions-and-their-meanings."><i class="fa fa-check"></i><b>17.3</b> Terminal symbols of EQL2 (functions) and their meanings.</a></li>
<li class="chapter" data-level="17.4" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#formal-description-of-emu-query-language-version-2"><i class="fa fa-check"></i><b>17.4</b> Formal description of EMU Query Language Version 2</a></li>
<li class="chapter" data-level="17.5" data-path="app-chap-EQL-EBNF.html"><a href="app-chap-EQL-EBNF.html#restrictions"><i class="fa fa-check"></i><b>17.5</b> Restrictions</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="app-chap-eql.html"><a href="app-chap-eql.html"><i class="fa fa-check"></i><b>18</b> EQL: further examples</a><ul>
<li class="chapter" data-level="18.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-equality-inequality-matching-non-matching-queries-single-argument"><i class="fa fa-check"></i><b>18.1</b> Simple equality, inequality, matching and non-matching queries (single-argument)</a></li>
<li class="chapter" data-level="18.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#sequence-queries-using-the---sequence-operator"><i class="fa fa-check"></i><b>18.2</b> Sequence queries using the -&gt; sequence operator</a></li>
<li class="chapter" data-level="18.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#subsequent-sequence-queries-using-nesting-of-the---sequence-operator"><i class="fa fa-check"></i><b>18.3</b> Subsequent sequence queries using nesting of the <code>-&gt;</code> sequence operator</a></li>
<li class="chapter" data-level="18.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#conjunction-operator"><i class="fa fa-check"></i><b>18.4</b> Conjunction operator &amp;</a></li>
<li class="chapter" data-level="18.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#domination-operator-hierarchical-queries"><i class="fa fa-check"></i><b>18.5</b> Domination operator ^ (hierarchical queries)</a><ul>
<li class="chapter" data-level="18.5.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-domination"><i class="fa fa-check"></i><b>18.5.1</b> Simple domination</a></li>
<li class="chapter" data-level="18.5.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#multiple-domination"><i class="fa fa-check"></i><b>18.5.2</b> Multiple domination</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position"><i class="fa fa-check"></i><b>18.6</b> Position</a><ul>
<li class="chapter" data-level="18.6.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#simple-usage-of-start-end-and-medial"><i class="fa fa-check"></i><b>18.6.1</b> Simple usage of <code>Start()</code>, <code>End()</code> and <code>Medial()</code></a></li>
<li class="chapter" data-level="18.6.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position-and-boolean"><i class="fa fa-check"></i><b>18.6.2</b> Position and boolean &amp;</a></li>
<li class="chapter" data-level="18.6.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#position-and-boolean-1"><i class="fa fa-check"></i><b>18.6.3</b> Position and boolean ^</a></li>
<li class="chapter" data-level="18.6.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#count-and-boolean"><i class="fa fa-check"></i><b>18.6.4</b> Count and boolean <code>&amp;</code></a></li>
<li class="chapter" data-level="18.6.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#count-and"><i class="fa fa-check"></i><b>18.6.5</b> Count and ^</a></li>
</ul></li>
<li class="chapter" data-level="18.7" data-path="app-chap-eql.html"><a href="app-chap-eql.html#combinations"><i class="fa fa-check"></i><b>18.7</b> Combinations</a><ul>
<li class="chapter" data-level="18.7.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#and---domination-and-sequence"><i class="fa fa-check"></i><b>18.7.1</b> ^ and -&gt; (domination and sequence)</a></li>
<li class="chapter" data-level="18.7.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#and---and-domination-and-sequence-and-boolean"><i class="fa fa-check"></i><b>18.7.2</b> ^ and -&gt; and &amp; (domination and sequence and boolean &amp;)</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="app-chap-eql.html"><a href="app-chap-eql.html#a-few-more-questions-and-answers"><i class="fa fa-check"></i><b>18.8</b> A few more questions and answers</a></li>
<li class="chapter" data-level="18.9" data-path="app-chap-eql.html"><a href="app-chap-eql.html#differences-to-the-legacy-emu-query-language"><i class="fa fa-check"></i><b>18.9</b> Differences to the legacy EMU query language</a><ul>
<li class="chapter" data-level="18.9.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#function-call-syntax"><i class="fa fa-check"></i><b>18.9.1</b> Function call syntax</a></li>
<li class="chapter" data-level="18.9.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#empty-result"><i class="fa fa-check"></i><b>18.9.2</b> Empty result</a></li>
<li class="chapter" data-level="18.9.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#the-result-modifier-hash-tag"><i class="fa fa-check"></i><b>18.9.3</b> The result modifier hash tag <code>#</code></a></li>
<li class="chapter" data-level="18.9.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#interpretation-of-the-hash-tag-in-conjunction-operator-queries"><i class="fa fa-check"></i><b>18.9.4</b> Interpretation of the hash tag <code>#</code> in conjunction operator queries</a></li>
<li class="chapter" data-level="18.9.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#legacy-emu"><i class="fa fa-check"></i><b>18.9.5</b> legacy EMU</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="app-chap-eql.html"><a href="app-chap-eql.html#bugs-in-legacy-emu-function-emu.query"><i class="fa fa-check"></i><b>18.10</b> Bugs in legacy EMU function <code>emu.query()</code></a><ul>
<li class="chapter" data-level="18.10.1" data-path="app-chap-eql.html"><a href="app-chap-eql.html#alternative-labels-in-inequality-queries"><i class="fa fa-check"></i><b>18.10.1</b> Alternative labels in inequality queries</a></li>
<li class="chapter" data-level="18.10.2" data-path="app-chap-eql.html"><a href="app-chap-eql.html#legacy-emu-1"><i class="fa fa-check"></i><b>18.10.2</b> legacy EMU</a></li>
<li class="chapter" data-level="18.10.3" data-path="app-chap-eql.html"><a href="app-chap-eql.html#emur-1"><i class="fa fa-check"></i><b>18.10.3</b> emuR</a></li>
<li class="chapter" data-level="18.10.4" data-path="app-chap-eql.html"><a href="app-chap-eql.html#errors-caused-by-missing-or-superfluous-blanks-or-parentheses"><i class="fa fa-check"></i><b>18.10.4</b> Errors caused by missing or superfluous blanks or parentheses</a></li>
<li class="chapter" data-level="18.10.5" data-path="app-chap-eql.html"><a href="app-chap-eql.html#order-of-result-segment-list"><i class="fa fa-check"></i><b>18.10.5</b> Order of result segment list</a></li>
<li class="chapter" data-level="18.10.6" data-path="app-chap-eql.html"><a href="app-chap-eql.html#additional-features"><i class="fa fa-check"></i><b>18.10.6</b> Additional features</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html"><i class="fa fa-check"></i><b>19</b> <code>wrassp</code></a><ul>
<li class="chapter" data-level="19.1" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#sec:app-chap-wrassp-praatsSigProc"><i class="fa fa-check"></i><b>19.1</b> Using Praatâs signal processing routines in the EMU-SDMS</a><ul>
<li class="chapter" data-level="19.1.1" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#to-formant-burg...-to-ssff-files"><i class="fa fa-check"></i><b>19.1.1</b> <code>To Formant (burg)...</code> to SSFF files</a></li>
<li class="chapter" data-level="19.1.2" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#to-pitch...-to-ssff-files"><i class="fa fa-check"></i><b>19.1.2</b> <code>To Pitch...</code> to SSFF files</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="app-chap-wrassp.html"><a href="app-chap-wrassp.html#sec:app-chap-wrassp-opensmileSigProc"><i class="fa fa-check"></i><b>19.2</b> Using OpenSMILE signal processing routines in the EMU-SDMS</a></li>
</ul></li>
<li class="part"><span><b>VI Recipes</b></span></li>
<li class="chapter" data-level="20" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>20</b> About</a></li>
<li class="chapter" data-level="21" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html"><i class="fa fa-check"></i><b>21</b> Spectral analysis</a><ul>
<li class="chapter" data-level="21.1" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#how-to-quantify-differences-between-spectra"><i class="fa fa-check"></i><b>21.1</b> How to quantify differences between spectra?</a></li>
<li class="chapter" data-level="21.2" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#discrete-cosine-transform-dct"><i class="fa fa-check"></i><b>21.2</b> Discrete Cosine Transform (DCT)</a></li>
<li class="chapter" data-level="21.3" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#dct-coefficients"><i class="fa fa-check"></i><b>21.3</b> DCT coefficients</a><ul>
<li class="chapter" data-level="21.3.1" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#p.s.-use-dct-in-order-to-smooth-formant-trajectories"><i class="fa fa-check"></i><b>21.3.1</b> P.S.: Use DCT in order to smooth formant trajectories</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="recipe-spectralAnalysis.html"><a href="recipe-spectralAnalysis.html#spectral-moments"><i class="fa fa-check"></i><b>21.4</b> Spectral moments</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html"><i class="fa fa-check"></i><b>22</b> Plotting snippets</a><ul>
<li class="chapter" data-level="22.1" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#formant-trajectory-plots-equivalent-to-the-legacy-dplot...-normalise-tf-average-tf..."><i class="fa fa-check"></i><b>22.1</b> Formant trajectory plots (equivalent to the legacy <code>dplot(..., normalise = T/F, average = T/F,...)</code>)</a></li>
<li class="chapter" data-level="22.2" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#f1f2-plots-equivalent-to-the-legacy-eplot...-dopoints-tf-doellipse-tf-centroid-tf-..."><i class="fa fa-check"></i><b>22.2</b> F1/F2 plots (equivalent to the legacy <code>eplot(..., dopoints = T/F, doellipse = T/F, centroid = T/F, ...)</code>)</a></li>
<li class="chapter" data-level="22.3" data-path="recipe-plottingSnippets.html"><a href="recipe-plottingSnippets.html#f1f2-plot-separated-by-speaker"><i class="fa fa-check"></i><b>22.3</b> F1/F2 plot separated by speaker</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><i class="fa fa-check"></i><b>23</b> Version control of emuDBs including collaborative annotation with Git and GitLab</a><ul>
<li class="chapter" data-level="23.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#setup"><i class="fa fa-check"></i><b>23.1</b> Setup</a><ul>
<li class="chapter" data-level="23.1.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#using-gitlab-to-host-the-emudb"><i class="fa fa-check"></i><b>23.1.1</b> Using GitLab to host the emuDB</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#collaborating-with-others"><i class="fa fa-check"></i><b>23.2</b> Collaborating with others</a><ul>
<li class="chapter" data-level="23.2.1" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#default-work-flow"><i class="fa fa-check"></i><b>23.2.1</b> Default work-flow</a></li>
<li class="chapter" data-level="23.2.2" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#assigning-bundles-to-annotators"><i class="fa fa-check"></i><b>23.2.2</b> Assigning bundles to annotators</a></li>
<li class="chapter" data-level="23.2.3" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#pointing-the-emu-webapp-to-the-gitlab-repository"><i class="fa fa-check"></i><b>23.2.3</b> Pointing the EMU-webApp to the GitLab repository</a></li>
<li class="chapter" data-level="23.2.4" data-path="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html"><a href="version-control-of-emudbs-including-collaborative-annotation-with-git-and-gitlab.html#what-about-my-r-scripts-other-files"><i class="fa fa-check"></i><b>23.2.4</b> What about my R scripts / other files?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The EMU-SDMS Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap:tutorial" class="section level1">
<h1><span class="header-section-number">3</span> A tutorial on how to use the EMU-SDMS<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></h1>
<p><img src="pics/emuSdmsBirdsEye.png" width="65%" style="display: block; margin: auto;" /></p>
<p>Using the tools provided by the EMU-SDMS, this tutorial chapter gives a practical step-by-step guide to answering the question: <em>Given an annotated speech database, is the vowel height of the vowel @ (measured by its correlate, the first formant frequency) influenced by whether it appears in a content or function word?</em> The tutorial only skims over many of the concepts and functions provided by the EMU-SDMS. In-depth explanations of the various functionalities are given in later chapters of this documentation.</p>
<p>As the EMU-SDMS is not concerned with the raw data acquisition, other tools such as SpeechRecorder by <span class="citation">Draxler and JÃ¤nsch (<a href="#ref-draxler:2004a">2004</a>)</span> are first used to record speech. However, once audio speech recordings are available, the system provides multiple conversion routines for converting existing collections of files to the new <code>emuDB</code> format described in Chapter <a href="chap-emuDB.html#chap:emuDB">5</a> and importing them into the new EMU system. The current import routines provided by the <code>emuR</code> package are:</p>
<ul>
<li><code>convert_TextGridCollection()</code> - Convert TextGrid collections (<code>.wav</code> and <code>.TextGrid</code> files) to the <code>emuDB</code> format,</li>
<li><code>convert_BPFCollection()</code> - Convert Bas Partitur Format (BPF) collections (<code>.wav</code> and <code>.par</code> files) to the <code>emuDB</code> format,</li>
<li><code>convert_txtCollection()</code> - Convert plain text file collections format (<code>.wav</code> and <code>.txt</code> files) to the <code>emuDB</code> format,</li>
<li><code>convert_legacyEmuDB()</code> - Convert the legacy EMU database format to the <code>emuDB</code> format and</li>
<li><code>create_emuDB()</code> followed by <code>add_link/levelDefinition</code> and <code>import_mediaFiles()</code> - Creating <code>emuDB</code>s from scratch with only audio files present.</li>
</ul>
<p>The <code>emuR</code> package comes with a set of example files and small databases that are used throughout the <code>emuR</code> documentation, including the functions help pages. These can be accessed by typing <code>help(function_name)</code> or the short form <code>?function_name</code>. R code snippet below illustrates how to create this demo data in a user-specified directory. Throughout the examples of this documentation the directory that is provided by the base R function <code>tempdir()</code> will be used, as this is available on every platform supported by R (see <code>?tempdir</code> for further details). As can be inferred from the <code>list.dirs()</code> output in the below code, the <code>emuR_demoData</code> directory contains a separate directory containing example data for each of the import routines. Additionally, it contains a directory containing an <code>emuDB</code> called <em>ae</em> (the directories name is <code>ae_emuDB</code>, where <code>_emuDB</code> is the default suffix given to directories containing a <code>emuDB</code>; see Chapter <a href="chap-emuDB.html#chap:emuDB">5</a>).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># load the package</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(emuR)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># create demo data in directory provided by the tempdir() function</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># (of course other directory paths may be chosen)</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">create_emuRdemoData</span>(<span class="dt">dir =</span> <span class="kw">tempdir</span>())</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co"># create path to demo data directory, which is</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co"># called &quot;emuR_demoData&quot;</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10">demo_data_dir =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;emuR_demoData&quot;</span>)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co"># show demo data directories</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="kw">list.dirs</span>(demo_data_dir, <span class="dt">recursive =</span> F, <span class="dt">full.names =</span> F)</a></code></pre></div>
<pre><code>## [1] &quot;ae_emuDB&quot;            &quot;BPF_collection&quot;      &quot;legacy_ae&quot;          
## [4] &quot;TextGrid_collection&quot; &quot;txt_collection&quot;</code></pre>
<p>This tutorial will start by converting a TextGrid collection containing seven annotated single-sentence utterances of a single male speaker to the <code>emuDB</code> format<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. In the EMU-SDMS, a file collection such as a TextGrid collection refers to a set of file pairs where two types of files with different file extentions are present (e.g., <code>.ext1</code> and <code>.ext2</code>). It is vital that file pairs have the same basenames (e.g., <code>A.ext1</code> and <code>A.ext2</code> where <code>A</code> represents the basename) in order for the conversion functions to be able to pair up files that belong together. As other speech software tools also encourage such file pairs (e.g., <span class="citation">Kisler et al. (<a href="#ref-kisler:2015a">2015</a>)</span>) this is a common collection format in the speech sciences. The R code snippet below shows such a file collection that is part of <code>emuR</code>âs demo data. Figure <a href="chap-tutorial.html#fig:msajc003-praatTG">3.1</a> shows the content of an annotation as displayed by Praatâs <code>&quot;Draw visible sound and Textgrid...&quot;</code> procedure.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># create path to TextGrid collection</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">tg_col_dir =<span class="st"> </span><span class="kw">file.path</span>(demo_data_dir, <span class="st">&quot;TextGrid_collection&quot;</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># show content of TextGrid_collection directory</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">list.files</span>(tg_col_dir)</a></code></pre></div>
<pre><code>##  [1] &quot;msajc003.TextGrid&quot; &quot;msajc003.wav&quot;      &quot;msajc010.TextGrid&quot;
##  [4] &quot;msajc010.wav&quot;      &quot;msajc012.TextGrid&quot; &quot;msajc012.wav&quot;     
##  [7] &quot;msajc015.TextGrid&quot; &quot;msajc015.wav&quot;      &quot;msajc022.TextGrid&quot;
## [10] &quot;msajc022.wav&quot;      &quot;msajc023.TextGrid&quot; &quot;msajc023.wav&quot;     
## [13] &quot;msajc057.TextGrid&quot; &quot;msajc057.wav&quot;</code></pre>
<div class="figure" style="text-align: center"><span id="fig:msajc003-praatTG"></span>
<img src="pics/msajc003_praat.png" alt="TextGrid annotation of the `emuR_demoData/TextGrid_collection/msajc003.wav` / `.TextGrid` file pair containing the tiers (from top to bottom): *Utterance*, *Intonational*, *Intermediate*, *Word*, *Accent*, *Text*, *Syllable*, *Phoneme*, *Phonetic*, *Tone*, *Foot*." width="85%" />
<p class="caption">
Figure 3.1: TextGrid annotation of the <code>emuR_demoData/TextGrid_collection/msajc003.wav</code> / <code>.TextGrid</code> file pair containing the tiers (from top to bottom): <em>Utterance</em>, <em>Intonational</em>, <em>Intermediate</em>, <em>Word</em>, <em>Accent</em>, <em>Text</em>, <em>Syllable</em>, <em>Phoneme</em>, <em>Phonetic</em>, <em>Tone</em>, <em>Foot</em>.
</p>
</div>
<div id="converting-the-textgrid-collection" class="section level2">
<h2><span class="header-section-number">3.1</span> Converting the TextGrid collection</h2>
<p>The <code>convert_TextGridCollection()</code> function converts a TextGrid collection to the <code>emuDB</code> format. A precondition that all <code>.TextGrid</code> files have to fulfill is that they must all contain the same tiers. If this is not the case, yet there is an equal tier subset that is contained in all the TextGrid files, this equal subset may be chosen. For example, if all <code>.TextGrid</code> files contain only the tier <code>Phonetic: IntervalTier</code> the conversion will work. However, if a single <code>.TextGrid</code> of the collection has the additional tier <code>Tone: TextTier</code> the conversion will fail. In this case the conversion could be made to work by specifying the equal subset (e.g., <code>equalSubset = c(&quot;Phonetic&quot;)</code>) and passing it on to the <code>tierNames</code> function argument <code>convert_TextGridCollection(..., tierNames = equalSubset, ...)</code>. As can be seen in Figure <a href="chap-tutorial.html#fig:msajc003-praatTG">3.1</a>, the TextGrid files provided by the demo data contain eleven tiers. To reduce the complexity of the annotations for this tutorial we will only convert the tiers <em>Word</em> (content: <em>C</em> vs.Â function: <em>F</em> word annotations), <em>Syllable</em> (strong: <em>S</em> vs.Â weak: <em>W</em> syllable annotations), <em>Phoneme</em> (phoneme level annotations) and <em>Phonetic</em> (phonetic annotations using Speech Assessment Methods Phonetic Alphabet (SAMPA) symbols - <span class="citation">Wells and others (<a href="#ref-wells:1997aa">1997</a>)</span>) using the <code>tierNames</code> parameter. This conversion can be seen in the R code snippet below.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># convert TextGrid collection to the emuDB format</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">convert_TextGridCollection</span>(<span class="dt">dir =</span> tg_col_dir,</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">                           <span class="dt">dbName =</span> <span class="st">&quot;my-first&quot;</span>,</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">                           <span class="dt">targetDir =</span> <span class="kw">tempdir</span>(),</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">                           <span class="dt">tierNames =</span> <span class="kw">c</span>(<span class="st">&quot;Word&quot;</span>, <span class="st">&quot;Syllable&quot;</span>,</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">                                         <span class="st">&quot;Phoneme&quot;</span>, <span class="st">&quot;Phonetic&quot;</span>))</a></code></pre></div>
<p>The above call to <code>convert_TextGridCollection()</code> creates a new <code>emuDB</code> directory in the <code>tempdir()</code> directory called <code>my-first_emuDB</code>. This <code>emuDB</code> contains annotation files that contain the same <em>Word</em>, <em>Syllable</em>, <em>Phoneme</em> and <em>Phonetic</em> segment tiers as the original <code>.TextGrid</code> files as well as copies of the original (<code>.wav</code>) audio files. For further details about the structure of an <code>emuDB</code>, see Chapter <a href="chap-emuDB.html#chap:emuDB">5</a> of this document.</p>
</div>
<div id="loading-and-inspecting-the-database" class="section level2">
<h2><span class="header-section-number">3.2</span> Loading and inspecting the database</h2>
<p>As mentioned in Section <a href="chap-overview.html#sec:overview-sysArch">2.2</a>, the first step when working with an <code>emuDB</code> is to load it into the current R session. The R code snippet below shows how to load the converted TextGrid collection into R using the <code>load_emuDB()</code> function.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># get path to emuDB called &quot;my-first&quot;</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co"># that was created by convert_TextGridCollection()</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">path2directory =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">&quot;my-first_emuDB&quot;</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co"># load emuDB into current R session</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co"># (verbose = F is only set to avoid additional output in manual)</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">db_handle =<span class="st"> </span><span class="kw">load_emuDB</span>(path2directory, </a>
<a class="sourceLine" id="cb7-8" data-line-number="8">                       <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div id="overview" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Overview</h3>
<p>Now the <em>my-first</em> <code>emuDB</code> is loaded into R, an overview of the current status and configuration of the database can be displayed using the <code>summary()</code> function as is shown by the below R code snippet.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># show summary</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw">summary</span>(db_handle)</a></code></pre></div>
<pre><code>## Name:     my-first 
## UUID:     f06bdb8b-68a7-46b3-9fb7-c9ce3cb00828 
## Directory:    /tmp/Rtmp7al7Gp/my-first_emuDB 
## Session count: 1 
## Bundle count: 7 
## Annotation item count:  664 
## Label count:  664 
## Link count:  0 
## 
## Database configuration:
## 
## SSFF track definitions:
## NULL
## 
## Level definitions:
##       name    type nrOfAttrDefs attrDefNames
## 1     Word SEGMENT            1        Word;
## 2 Syllable SEGMENT            1    Syllable;
## 3  Phoneme SEGMENT            1     Phoneme;
## 4 Phonetic SEGMENT            1    Phonetic;
## 
## Link definitions:
## NULL</code></pre>
<p>The extensive output of <code>summary()</code> is split into a top and bottom half, where the top half focuses on general information about the database (name, directory, annotation item count, etc.) and the bottom half displays information about the various SSFF track, level and link definitions of the <code>emuDB</code>. The summary information about the level definitions shows, for instance, that the <em>my-first</em> database has a <em>Word</em> level of type <code>SEGMENT</code> and therefore contains annotation items that have a start time and a segment duration. It is worth noting that information about the SSFF track, level and link definitions corresponds to the output of the <code>list_ssffTrackDefinitions()</code>, <code>list_levelDefinitions()</code> and <code>list_linkDefinitions()</code> functions.</p>
</div>
<div id="database-annotation-and-visual-inspection" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Database annotation and visual inspection</h3>
<p>The EMU-SDMS has a unique approach to annotating and visually inspecting databases, as it utilizes a web application called the <code>EMU-webApp</code> to act as its GUI. To be able to communicate with the web application the <code>emuR</code> package provides the <code>serve()</code> function which is used in the R code snippet below.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># serve my-first emuDB to the EMU-webApp</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw">serve</span>(db_handle)</a></code></pre></div>
<p>Executing this command will either automatically open up the systemâs default browser or, if using RStudio, download the current EMU-webApp and display it in RStudioâs viewer pane and additionally display the following message in the R console:</p>
<pre><code>## Navigate your browser to the EMU-webApp URL: 
##  https://ips-lmu.github.io/EMU-webApp/ (should happen autom...
## Server connection URL:
##  ws://localhost:17890
## To stop the server either press the &#39;clear&#39; button in the EMU-webApp, 
##  close/reload the webApp in your browser,
## or call the httpuv::stopAllServers() function</code></pre>
<p>The <code>EMU-webApp</code>, which is now connected to the database via the <code>serve()</code> function, can be used to visually inspect and annotate the <code>emuDB</code>. Figure <a href="chap-tutorial.html#fig:tutorial-emuWebAppMyFirst">3.2</a> displays a screenshot of what the <code>EMU-webApp</code> looks like after automatically connecting to the server. As the <code>EMU-webApp</code> is a very feature-rich software annotation tool, this documentation has a whole chapter (see Chapter <a href="chap-emu-webApp.html#chap:emu-webApp">9</a>) on how to use it, what it is capable of and how to configure it. To close the connection and free up the blocked R console, simply click the <code>clear</code> button in the top menu bar of the <code>EMU-webApp</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:tutorial-emuWebAppMyFirst"></span>
<img src="pics/tutorialEmuWebAppMyFirst.png" alt="Screenshot of `EMU-webApp` displaying `msajc003` bundle of *my-first* `emuDB`." width="100%" />
<p class="caption">
Figure 3.2: Screenshot of <code>EMU-webApp</code> displaying <code>msajc003</code> bundle of <em>my-first</em> <code>emuDB</code>.
</p>
</div>
</div>
</div>
<div id="querying-and-autobuilding-the-annotation-structure" class="section level2">
<h2><span class="header-section-number">3.3</span> Querying and autobuilding the annotation structure</h2>
<p>An integral step in the default workflow of the EMU-SDMS is querying the annotations of a database. The <code>emuR</code> package implements a <code>query()</code> function to accomplish this task. This function evaluates an EMU Query Language (EQL) expression and extracts the annotation items from the database that match a query expression. As chapter <a href="chap-querysys.html#chap:querysys">6</a> gives a detailed description of the query mechanics provided by <code>emuR</code>, this tutorial will only use a very small, hopefully easy to understand subset of the EQL.</p>
<p>The output of the <code>summary()</code> command in the R code snippet below and the screenshot in Figure <a href="chap-tutorial.html#fig:tutorial-emuWebAppMyFirst">3.2</a> show that the <em>my-first</em> <code>emuDB</code> contains four levels of annotations. The R code snippet below shows four separate queries that query various segments on each of the available levels. The query expressions all use the matching operator <code>==</code> which returns annotation items whose labels match those specified to the right of the operator and that belong to the level specified to the left of the operator (i.e., <code>LEVEL == LABEL</code>; see Chapter <a href="chap-querysys.html#chap:querysys">6</a> for a detailed description).</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># query all segments containing the label</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># &quot;C&quot; (== content word) of the &quot;Word&quot; level</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">sl_text =<span class="st"> </span><span class="kw">query</span>(<span class="dt">emuDBhandle =</span> db_handle,</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">                <span class="dt">query =</span> <span class="st">&quot;Word == C&quot;</span>)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co"># query all segments containing the label</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co"># &quot;S&quot; (== strong syllable) of the &quot;Syllable&quot; level</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">sl_syl =<span class="st"> </span><span class="kw">query</span>(<span class="dt">emuDBhandle =</span> db_handle,</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">               <span class="dt">query =</span> <span class="st">&quot;Syllable == S&quot;</span>)</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="co"># query all segments containing the label</span></a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="co"># &quot;f&quot; on the &quot;Phoneme&quot; level</span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13">sl_phoneme =<span class="st"> </span><span class="kw">query</span>(db_handle,</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">                   <span class="dt">query =</span> <span class="st">&quot;Phoneme == f&quot;</span>)</a>
<a class="sourceLine" id="cb12-15" data-line-number="15"></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co"># query all segments containing the label</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"><span class="co"># &quot;n&quot; of the &quot;Phonetic&quot; level</span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18">sl_phonetic =<span class="st"> </span><span class="kw">query</span>(db_handle,</a>
<a class="sourceLine" id="cb12-19" data-line-number="19">                    <span class="dt">query =</span> <span class="st">&quot;Phonetic == n&quot;</span>)</a>
<a class="sourceLine" id="cb12-20" data-line-number="20"></a>
<a class="sourceLine" id="cb12-21" data-line-number="21"><span class="co"># show class vector of query result</span></a>
<a class="sourceLine" id="cb12-22" data-line-number="22"><span class="kw">class</span>(sl_phonetic)</a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># show first few entries of sl_phonetic</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">sl_phonetic</a></code></pre></div>
<pre><code>## # A tibble: 12 x 16
##    labels start   end db_uuid session bundle start_item_id end_item_id level
##    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;int&gt;       &lt;int&gt; &lt;chr&gt;
##  1 n      1032. 1196. f06bdbâ¦ 0000    msajcâ¦            98          98 Phonâ¦
##  2 n      1741. 1791. f06bdbâ¦ 0000    msajcâ¦           108         108 Phonâ¦
##  3 n      1515. 1554. f06bdbâ¦ 0000    msajcâ¦           113         113 Phonâ¦
##  4 n      2431. 2528. f06bdbâ¦ 0000    msajcâ¦           127         127 Phonâ¦
##  5 n       895. 1023. f06bdbâ¦ 0000    msajcâ¦            98          98 Phonâ¦
##  6 n      2402. 2475. f06bdbâ¦ 0000    msajcâ¦           122         122 Phonâ¦
##  7 n      2227. 2271. f06bdbâ¦ 0000    msajcâ¦           132         132 Phonâ¦
##  8 n      3046. 3068. f06bdbâ¦ 0000    msajcâ¦           145         145 Phonâ¦
##  9 n      1435. 1495. f06bdbâ¦ 0000    msajcâ¦            91          91 Phonâ¦
## 10 n      1775. 1834. f06bdbâ¦ 0000    msajcâ¦            96          96 Phonâ¦
## 11 n       509.  544. f06bdbâ¦ 0000    msajcâ¦            97          97 Phonâ¦
## 12 n      2448. 2480. f06bdbâ¦ 0000    msajcâ¦           130         130 Phonâ¦
## # â¦ with 7 more variables: attribute &lt;chr&gt;, start_item_seq_idx &lt;int&gt;,
## #   end_item_seq_idx &lt;int&gt;, type &lt;chr&gt;, sample_start &lt;int&gt;, sample_end &lt;int&gt;,
## #   sample_rate &lt;int&gt;</code></pre>
<p>As demonstrated in the above R code, the result of a query is a <code>tbl_df</code> object (i.e.Â a <a href="https://tibble.tidyverse.org/index.html">tibble object</a>), which is a super-class of the common <code>data.frame</code>. For historical reasons the result of a query is often referred to as a segment list, or âseglistâ. A segment list carries information about the extracted annotation items such as the extracted labels, the start and end times of the segments, the sessions and bundles the items are from and the levels they belong to. An in-depth description of the information contained in a segment list is given in Section <a href="chap-querysys.html#sec:query-emuRsegs">6.1</a>.</p>
</div>
<div id="autobuilding" class="section level2">
<h2><span class="header-section-number">3.4</span> Autobuilding</h2>
<p>The simple queries illustrated above query segments from a single level that match a certain label. However, the EMU-SDMS offers a mechanism for performing inter-level queries such as: <em>Query all Phonetic items that contain the label ânâ and are part of a content word</em>. For such queries to be possible, the EMU-SDMS offers very sophisticated annotation structure modeling capabilities, which are described in Chapter <a href="chap-annot-struct-mod.html#chap:annot-struct-mod">4</a>. For the sake of this tutorial we will focus on converting the flat segment level annotation structure displayed in Figure <a href="chap-tutorial.html#fig:tutorial-emuWebAppMyFirst">3.2</a> to a hierarchical form as displayed in Figure <a href="chap-tutorial.html#fig:tutorial-violentlyHier">3.3</a>, where only the <em>Phonetic</em> level carries time information and the annotation items on the other levels are explicitly linked to each other to form a hierarchical annotation structure.</p>
<div class="figure" style="text-align: center"><span id="fig:tutorial-violentlyHier"></span>
<img src="tutorial_files/figure-html/tutorial-violentlyHier-1.png" alt="Example of a hierarchical annotation of the content (==*C*) word *violently* belonging to the *msajc012* bundle of the *my-first* demo `emuDB`." width="432" />
<p class="caption">
Figure 3.3: Example of a hierarchical annotation of the content (==<em>C</em>) word <em>violently</em> belonging to the <em>msajc012</em> bundle of the <em>my-first</em> demo <code>emuDB</code>.
</p>
</div>
<p>As it is a very laborious task to manually link annotation items together using the <code>EMU-webApp</code> and the hierarchical information is already implicitly contained in the time information of the segments and events of each level, we will now use a function provided by the <code>emuR</code> package to build these hierarchical structures using this information called <code>autobuild_linkFromTimes()</code>. The above R code snippet shows the calls to this function which autobuild the hierarchical annotations in the <em>my-first</em> database. As a general rule for autobuilding hierarchical annotation structures, a good strategy is to start the autobuilding process beginning with coarser grained annotation levels (i.e., the <em>Word</em>/<em>Syllable</em> level pair in our example) and work down to finer grained annotations (i.e., the <em>Syllable</em>/<em>Phoneme</em> and <em>Phoneme</em>/<em>Phonetic</em> level pairs in our example). To build hierachical annotation structures we need link definitions, which together with the level definitions define the annotation structure for the entire database (see Chapter <a href="chap-annot-struct-mod.html#chap:annot-struct-mod">4</a> for further details). The <code>autobuild_linkFromTimes()</code> calls in the below R code snippet use the <code>newLinkDefType</code> parameter, which if defined automatically adds a link definition to the database.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># invoke autobuild function</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co"># for &quot;Word&quot; and &quot;Syllable&quot; levels</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="kw">autobuild_linkFromTimes</span>(db_handle,</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">                        <span class="dt">superlevelName =</span> <span class="st">&quot;Word&quot;</span>,</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">                        <span class="dt">sublevelName =</span> <span class="st">&quot;Syllable&quot;</span>,</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">                        <span class="dt">convertSuperlevel =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">                        <span class="dt">newLinkDefType =</span> <span class="st">&quot;ONE_TO_MANY&quot;</span>)</a>
<a class="sourceLine" id="cb16-8" data-line-number="8"></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co"># invoke autobuild function</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co"># for &quot;Syllable&quot; and &quot;Phoneme&quot; levels</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="kw">autobuild_linkFromTimes</span>(db_handle,</a>
<a class="sourceLine" id="cb16-12" data-line-number="12">                        <span class="dt">superlevelName =</span> <span class="st">&quot;Syllable&quot;</span>,</a>
<a class="sourceLine" id="cb16-13" data-line-number="13">                        <span class="dt">sublevelName =</span> <span class="st">&quot;Phoneme&quot;</span>,</a>
<a class="sourceLine" id="cb16-14" data-line-number="14">                        <span class="dt">convertSuperlevel =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb16-15" data-line-number="15">                        <span class="dt">newLinkDefType =</span> <span class="st">&quot;ONE_TO_MANY&quot;</span>)</a>
<a class="sourceLine" id="cb16-16" data-line-number="16"></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co"># invoke autobuild function</span></a>
<a class="sourceLine" id="cb16-18" data-line-number="18"><span class="co"># for &quot;Phoneme&quot; and &quot;Phonetic&quot; levels</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="kw">autobuild_linkFromTimes</span>(db_handle,</a>
<a class="sourceLine" id="cb16-20" data-line-number="20">                        <span class="dt">superlevelName =</span> <span class="st">&quot;Phoneme&quot;</span>,</a>
<a class="sourceLine" id="cb16-21" data-line-number="21">                        <span class="dt">sublevelName =</span> <span class="st">&quot;Phonetic&quot;</span>,</a>
<a class="sourceLine" id="cb16-22" data-line-number="22">                        <span class="dt">convertSuperlevel =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb16-23" data-line-number="23">                        <span class="dt">newLinkDefType =</span> <span class="st">&quot;MANY_TO_MANY&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:tutorial-simpleAnnotStruct"></span>
<img src="pics/tut_simpleAnnotStruct.png" alt="Schematic annotation structure of the `emuDB` after calling the autobuild function in R code snippet above." width="50%" />
<p class="caption">
Figure 3.4: Schematic annotation structure of the <code>emuDB</code> after calling the autobuild function in R code snippet above.
</p>
</div>
<p>As the <code>autobuild_linkFromTimes()</code> function automatically creates backup levels to avoid the accidental loss of boundary or event time information, the R code snippet below shows how these backup levels can be removed to clean up the database. However, using the <code>remove_levelDefinition()</code> function with its <code>force</code> parameter set to <code>TRUE</code> is a very invasive action. Usually this would not be recommended, but for this tutorial we are keeping everything as clean as possible.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># list level definitions</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co"># as this reveals the &quot;-autobuildBackup&quot; levels</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co"># added by the autobuild_linkFromTimes() calls</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="kw">list_levelDefinitions</span>(db_handle)</a></code></pre></div>
<pre><code>##                       name    type nrOfAttrDefs              attrDefNames
## 1                     Word    ITEM            1                     Word;
## 2                 Syllable    ITEM            1                 Syllable;
## 3                  Phoneme    ITEM            1                  Phoneme;
## 4                 Phonetic SEGMENT            1                 Phonetic;
## 5     Word-autobuildBackup SEGMENT            1     Word-autobuildBackup;
## 6 Syllable-autobuildBackup SEGMENT            1 Syllable-autobuildBackup;
## 7  Phoneme-autobuildBackup SEGMENT            1  Phoneme-autobuildBackup;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co"># remove the levels containing the &quot;-autobuildBackup&quot;</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="co"># suffix</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="co"># (verbose = F is only set to avoid additional output in manual)</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="kw">remove_levelDefinition</span>(db_handle,</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">                       <span class="dt">name =</span> <span class="st">&quot;Word-autobuildBackup&quot;</span>,</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">                       <span class="dt">force =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">                       <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="co"># (verbose = F is only set to avoid additional output in manual)</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="kw">remove_levelDefinition</span>(db_handle,</a>
<a class="sourceLine" id="cb19-10" data-line-number="10">                       <span class="dt">name =</span> <span class="st">&quot;Syllable-autobuildBackup&quot;</span>,</a>
<a class="sourceLine" id="cb19-11" data-line-number="11">                       <span class="dt">force =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb19-12" data-line-number="12">                       <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="co"># (verbose = F is only set to avoid additional output in manual)</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="kw">remove_levelDefinition</span>(db_handle,</a>
<a class="sourceLine" id="cb19-15" data-line-number="15">                       <span class="dt">name =</span> <span class="st">&quot;Phoneme-autobuildBackup&quot;</span>,</a>
<a class="sourceLine" id="cb19-16" data-line-number="16">                       <span class="dt">force =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb19-17" data-line-number="17">                       <span class="dt">verbose =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-18" data-line-number="18"></a>
<a class="sourceLine" id="cb19-19" data-line-number="19"><span class="co"># list level definitions</span></a>
<a class="sourceLine" id="cb19-20" data-line-number="20"><span class="kw">list_levelDefinitions</span>(db_handle)</a></code></pre></div>
<pre><code>##       name    type nrOfAttrDefs attrDefNames
## 1     Word    ITEM            1        Word;
## 2 Syllable    ITEM            1    Syllable;
## 3  Phoneme    ITEM            1     Phoneme;
## 4 Phonetic SEGMENT            1    Phonetic;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co"># list level definitions</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co"># which were added by the autobuild functions</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="kw">list_linkDefinitions</span>(db_handle)</a></code></pre></div>
<pre><code>##           type superlevelName sublevelName
## 1  ONE_TO_MANY           Word     Syllable
## 2  ONE_TO_MANY       Syllable      Phoneme
## 3 MANY_TO_MANY        Phoneme     Phonetic</code></pre>
<p>As can be seen by the output of <code>list_levelDefinitions()</code> and <code>list_linkDefinitions()</code> in the above R code, the annotation structure of the <em>my-first</em> <code>emuDB</code> now matches that displayed in Figure <a href="chap-tutorial.html#fig:tutorial-simpleAnnotStruct">3.4</a>. Using the <code>serve()</code> function to open the <code>emuDB</code> in the <code>EMU-webApp</code> followed by clicking on the <code>show hierarchy</code> button in the top menu (and rotating the hierarchy by 90 degrees by clicking the <code>rotate by 90 degrees</code> button) will result in a view similar to the screenshot of Figure <a href="chap-tutorial.html#fig:tutorial-EMU-webAppScreenshotTutorialPostAutobHier">3.5</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:tutorial-EMU-webAppScreenshotTutorialPostAutobHier"></span>
<img src="pics/EMU-webAppScreenshotTutorialPostAutobHier.png" alt="Screenshot of `EMU-webApp` displaying the autobuilt hierarchy of the *my-first* `emuDB`." width="100%" />
<p class="caption">
Figure 3.5: Screenshot of <code>EMU-webApp</code> displaying the autobuilt hierarchy of the <em>my-first</em> <code>emuDB</code>.
</p>
</div>
<div id="querying-the-hierarchical-annotations" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Querying the hierarchical annotations</h3>
<p>Having this hierarchical annotation structure now allows us to formulate a query that helps answer the originally stated question: <em>Given an annotated speech database, is the vowel height of the vowel @ (measured by its correlate, the first formant frequency) influenced by whether it appears in a content or function word?</em>. The R code snippet below shows how all the <em>@</em> vowels in the <em>my-first</em> database are queried.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># query annotation items containing</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="co"># the labels @ on the Phonetic level</span></a>
<a class="sourceLine" id="cb23-3" data-line-number="3">sl_vowels =<span class="st"> </span><span class="kw">query</span>(db_handle, <span class="st">&quot;Phonetic == @&quot;</span>)</a>
<a class="sourceLine" id="cb23-4" data-line-number="4"></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="co"># show sl_vowels</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6">sl_vowels</a></code></pre></div>
<pre><code>## # A tibble: 28 x 16
##    labels start   end db_uuid session bundle start_item_id end_item_id level
##    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;int&gt;       &lt;int&gt; &lt;chr&gt;
##  1 @      1506. 1548. f06bdbâ¦ 0000    msajcâ¦           103         103 Phonâ¦
##  2 @      1715. 1741. f06bdbâ¦ 0000    msajcâ¦           107         107 Phonâ¦
##  3 @      1967. 2034. f06bdbâ¦ 0000    msajcâ¦           112         112 Phonâ¦
##  4 @      2303. 2362. f06bdbâ¦ 0000    msajcâ¦           117         117 Phonâ¦
##  5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119 Phonâ¦
##  6 @      1917. 1958. f06bdbâ¦ 0000    msajcâ¦           118         118 Phonâ¦
##  7 @      2022. 2078. f06bdbâ¦ 0000    msajcâ¦           120         120 Phonâ¦
##  8 @      2382. 2431. f06bdbâ¦ 0000    msajcâ¦           126         126 Phonâ¦
##  9 @       330.  380. f06bdbâ¦ 0000    msajcâ¦            91          91 Phonâ¦
## 10 @      1472. 1490. f06bdbâ¦ 0000    msajcâ¦           108         108 Phonâ¦
## # â¦ with 18 more rows, and 7 more variables: attribute &lt;chr&gt;,
## #   start_item_seq_idx &lt;int&gt;, end_item_seq_idx &lt;int&gt;, type &lt;chr&gt;,
## #   sample_start &lt;int&gt;, sample_end &lt;int&gt;, sample_rate &lt;int&gt;</code></pre>
<p>As the type of word (content vs.Â function) for each <em>@</em> vowel is also needed, we can use the requery functionality of the EMU-SDMS (see Chapter <a href="chap-querysys.html#chap:querysys">6</a>) to retrieve the word type for each <em>@</em> vowel. A requery essentially moves through a hierarchical annotation (vertically or horizontally) starting from the segments that are passed into the requery function. The R code below illustrates the usage of the hierarchical requery function, <code>requery_hier()</code>, to retrieve the appropriate annotation items from the <em>Word</em> level.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># hierarchical requery starting from the items in sl_vowels</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="co"># and moving up to the &quot;Word&quot; level</span></a>
<a class="sourceLine" id="cb25-3" data-line-number="3">sl_word_type =<span class="st"> </span><span class="kw">requery_hier</span>(db_handle,</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">                           <span class="dt">seglist =</span> sl_vowels,</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">                           <span class="dt">level =</span> <span class="st">&quot;Word&quot;</span>,</a>
<a class="sourceLine" id="cb25-6" data-line-number="6">                           <span class="dt">calcTimes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb25-7" data-line-number="7"></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="co"># show sl_word_type</span></a>
<a class="sourceLine" id="cb25-9" data-line-number="9">sl_word_type</a></code></pre></div>
<pre><code>## # A tibble: 28 x 16
##    labels start   end db_uuid session bundle start_item_id end_item_id level
##    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;int&gt;       &lt;int&gt; &lt;chr&gt;
##  1 F         NA    NA f06bdbâ¦ 0000    msajcâ¦            16          16 Word 
##  2 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            17          17 Word 
##  3 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            17          17 Word 
##  4 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            18          18 Word 
##  5 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            18          18 Word 
##  6 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            19          19 Word 
##  7 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            20          20 Word 
##  8 C         NA    NA f06bdbâ¦ 0000    msajcâ¦            20          20 Word 
##  9 F         NA    NA f06bdbâ¦ 0000    msajcâ¦            13          13 Word 
## 10 F         NA    NA f06bdbâ¦ 0000    msajcâ¦            17          17 Word 
## # â¦ with 18 more rows, and 7 more variables: attribute &lt;chr&gt;,
## #   start_item_seq_idx &lt;int&gt;, end_item_seq_idx &lt;int&gt;, type &lt;chr&gt;,
## #   sample_start &lt;int&gt;, sample_end &lt;int&gt;, sample_rate &lt;int&gt;</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># show that sl_vowel and sl_word_type have the</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co"># same number of row entries</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="kw">nrow</span>(sl_vowels) <span class="op">==</span><span class="st"> </span><span class="kw">nrow</span>(sl_word_type)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>As can be seen by the <code>nrow()</code> comparison in the above R code, the segment list returned by the <code>requery_hier()</code> function has the same number of rows as the original <code>sl_vowels</code> segment list. This is important, as each row of both segment lists line up and allow us to infer which segment belongs to which word type (e.g., vowel <code>sl_vowels[5,]</code> belongs to the word type <code>sl_word_type[5,]</code>).</p>
</div>
</div>
<div id="section:tutorial-sigExtrAndExpl" class="section level2">
<h2><span class="header-section-number">3.5</span> Signal extraction and exploration</h2>
<p>Now that the vowel and word type information including the vowel start and end time information has been extracted from the database, this information can be used to extract signal data that matches these segments. Using the <code>emuR</code> function <code>get_trackdata()</code> we can calculate the formant values in real time using the formant estimation function, <code>forest()</code>, provided by the <code>wrassp</code> package (see Chapter <a href="chap-wrassp.html#chap:wrassp">8</a> for details). The following R code shows the usage of this function.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># get formant values for the vowel segments</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="co"># (verbose = F is only set to avoid additional output in manual)</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3">td_vowels =<span class="st"> </span><span class="kw">get_trackdata</span>(db_handle,</a>
<a class="sourceLine" id="cb29-4" data-line-number="4">                          <span class="dt">seglist =</span> sl_vowels,</a>
<a class="sourceLine" id="cb29-5" data-line-number="5">                          <span class="dt">onTheFlyFunctionName =</span> <span class="st">&quot;forest&quot;</span>,</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">                          <span class="dt">verbose =</span> F)</a>
<a class="sourceLine" id="cb29-7" data-line-number="7"></a>
<a class="sourceLine" id="cb29-8" data-line-number="8"><span class="co"># show class vector</span></a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="kw">class</span>(td_vowels)</a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># show dimensions</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw">dim</span>(td_vowels)</a></code></pre></div>
<pre><code>## [1] 287  24</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># show nr of segments</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">max</span>(td_vowels<span class="op">$</span>sl_rowIdx)</a></code></pre></div>
<pre><code>## [1] 28</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># display all values for fifth segment using dplyr</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3">td_vowels <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(sl_rowIdx <span class="op">==</span><span class="st"> </span><span class="dv">5</span>)</a></code></pre></div>
<pre><code>## # A tibble: 12 x 24
##    sl_rowIdx labels start   end db_uuid session bundle start_item_id end_item_id
##        &lt;int&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;          &lt;int&gt;       &lt;int&gt;
##  1         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  2         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  3         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  4         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  5         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  6         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  7         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  8         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
##  9         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
## 10         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
## 11         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
## 12         5 @      2447. 2506. f06bdbâ¦ 0000    msajcâ¦           119         119
## # â¦ with 15 more variables: level &lt;chr&gt;, attribute &lt;chr&gt;,
## #   start_item_seq_idx &lt;int&gt;, end_item_seq_idx &lt;int&gt;, type &lt;chr&gt;,
## #   sample_start &lt;int&gt;, sample_end &lt;int&gt;, sample_rate &lt;int&gt;, times_orig &lt;dbl&gt;,
## #   times_rel &lt;dbl&gt;, times_norm &lt;dbl&gt;, T1 &lt;int&gt;, T2 &lt;int&gt;, T3 &lt;int&gt;, T4 &lt;int&gt;</code></pre>
<p>As can be seen by the call to the <code>class()</code> function, the resulting object is of the type <code>tibble</code> (see <code>?tibble::tibble</code> for more information) and has 28 blocks of data. These blocks correspond to the number of rows contained in the segment lists extracted above (i.e., <code>nrow(sl_vowels)</code>) and can be matched to the according segment using the <code>sl_rowIdx</code> column (i.e., <code>td_vowels %&gt;% filter(sl_rowIdx == 5)</code> are the formant values belonging to <code>sl_vowels[5,]</code>). As the columns <code>T1</code>, <code>T2</code>, <code>T3</code>, <code>T4</code> of the printed output of <code>td_vowels %&gt;% filter(sl_rowIdx == 5)</code> suggest, the <code>forest</code> function estimates four formant values. We will only be concerned with the first (column <code>T1</code>) and second (column <code>T2</code>). The below R code shows two <code>ggplot()</code> function calls which produce the plots displayed in Figures <a href="chap-tutorial.html#fig:tutorial-dplot1">3.6</a> and <a href="chap-tutorial.html#fig:tutorial-dplot1">3.6</a>. The first <code>ggplot()</code> call plots all 28 first formant trajectories (achieved by setting the <code>group</code> parameter to <code>sl_rowIdx</code>). To clean up the cluttered first plot, the second <code>ggplot()</code> call uses a segment length normalized version of <code>td_vowels</code> (see <code>?normalize_length</code> for futher details) as well as using <code>geom_smooth()</code> in combination with setting the <code>group</code> parameter to <code>labels</code> to plot only smoothed conditional means of all <em>@</em> vowels.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="co"># load package</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"></a>
<a class="sourceLine" id="cb37-4" data-line-number="4"><span class="kw">ggplot</span>(td_vowels) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> times_rel, <span class="dt">y =</span> T1, <span class="dt">col =</span> labels, <span class="dt">group =</span> sl_rowIdx) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Duration (ms)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;F1 (Hz)&quot;</span>)</a>
<a class="sourceLine" id="cb37-8" data-line-number="8"></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="co"># normalize length of segments</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10">td_vowels_norm =<span class="st"> </span><span class="kw">normalize_length</span>(td_vowels)</a>
<a class="sourceLine" id="cb37-11" data-line-number="11"></a>
<a class="sourceLine" id="cb37-12" data-line-number="12"><span class="kw">ggplot</span>(td_vowels_norm) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> times_norm, <span class="dt">y =</span> T1, <span class="dt">col =</span> labels, <span class="dt">group =</span> labels) <span class="op">+</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"><span class="st">  </span><span class="kw">geom_smooth</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb37-15" data-line-number="15"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Duration (normalized)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;F1 (Hz)&quot;</span>) </a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:tutorial-dplot1"></span>
<img src="tutorial_files/figure-html/tutorial-dplot1-1.png" alt="`ggplot()` plots of all F1 *\@* vowel trajectories." width="576" />
<p class="caption">
Figure 3.6: <code>ggplot()</code> plots of all F1 <em>@</em> vowel trajectories.
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:tutorial-dplot2"></span>
<img src="tutorial_files/figure-html/tutorial-dplot2-1.png" alt="`ggplot()` plots of the F1 smoothed conditional mean trajectories of all *\@* vowels." width="576" />
<p class="caption">
Figure 3.7: <code>ggplot()</code> plots of the F1 smoothed conditional mean trajectories of all <em>@</em> vowels.
</p>
</div>
<p>Figures <a href="chap-tutorial.html#fig:tutorial-dplot1">3.6</a> and <a href="chap-tutorial.html#fig:tutorial-dplot2">3.7</a> give an overview of the first formant trajectories of the <em>@</em> vowels. For the purpose of data exploration and to get an idea of where the individual vowel classes lie on the F2 x F1 plane, which indirectly provides information about vowel height and tongue position, the R code below again makes use of the <code>ggplot()</code> function. This produces Figure <a href="chap-tutorial.html#fig:tutorial-eplot">3.8</a>. To be able to use the <code>stat_ellipse()</code> function, the <code>td_vowels_norm</code> object first has to be modified, as it contains entire formant trajectories but two dimensional data is needed to be able to display it on the F2 x F1 plain. This can, for example, be achieved by only extracting temporal mid-point formant values for each vowel using the <code>get_trackdata()</code> function utilizing its <code>cut</code> parameter. The R code snippet below shows an alternative approach using the <code>dplyr</code>âs <code>filter()</code> function to essentially cut the formant trajectories to a specified proportional segment. By only extracting the values that have a normalized time value of 0.5 (<code>times_norm == 0.5</code>) only the formant values that are at the time normalized mid-point (calculated above using the <code>normalize_length()</code> function) are extracted from the trajectories.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># cut formant trajectories at temporal mid-point</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2">td_vowels_midpoint =<span class="st"> </span>td_vowels_norm <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(times_norm <span class="op">==</span><span class="st"> </span><span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb38-4" data-line-number="4"></a>
<a class="sourceLine" id="cb38-5" data-line-number="5"><span class="co"># show dimensions of td_vowels_midpoint</span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="kw">dim</span>(td_vowels_midpoint)</a>
<a class="sourceLine" id="cb38-7" data-line-number="7"></a>
<a class="sourceLine" id="cb38-8" data-line-number="8"><span class="co"># calculate centroid </span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9">td_centroids =<span class="st"> </span>td_vowels_midpoint <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-10" data-line-number="10"><span class="st">  </span><span class="kw">group_by</span>(labels) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-11" data-line-number="11"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">T1 =</span> <span class="kw">mean</span>(T1), <span class="dt">T2 =</span> <span class="kw">mean</span>(T2))</a>
<a class="sourceLine" id="cb38-12" data-line-number="12"></a>
<a class="sourceLine" id="cb38-13" data-line-number="13"><span class="co"># generate plot</span></a>
<a class="sourceLine" id="cb38-14" data-line-number="14"><span class="kw">ggplot</span>(td_vowels_midpoint, <span class="kw">aes</span>(<span class="dt">x =</span> T2, <span class="dt">y =</span> T1, <span class="dt">colour =</span> labels, <span class="dt">label =</span> labels)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> td_centroids) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-16" data-line-number="16"><span class="st">  </span><span class="kw">stat_ellipse</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb38-17" data-line-number="17"><span class="st">  </span><span class="kw">scale_y_reverse</span>() <span class="op">+</span><span class="st"> </span><span class="kw">scale_x_reverse</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-18" data-line-number="18"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;F2 (Hz)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;F1 (Hz)&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb38-19" data-line-number="19"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position=</span><span class="st">&quot;none&quot;</span>)</a></code></pre></div>
<pre><code>## [1] 28 24</code></pre>
<div class="figure" style="text-align: center"><span id="fig:tutorial-eplot"></span>
<img src="tutorial_files/figure-html/tutorial-eplot-1.png" alt="95% ellipse plot including centroid for F2 x F1 data extracted from the temporal midpoint of the vowel segments." width="576" />
<p class="caption">
Figure 3.8: 95% ellipse plot including centroid for F2 x F1 data extracted from the temporal midpoint of the vowel segments.
</p>
</div>
<p>Figure <a href="chap-tutorial.html#fig:tutorial-eplot">3.8</a> displays the first two formants extracted at the temporal midpoint of every <em>@</em> vowel in <code>sl_vowels</code>. The centroid of these formants is plotted on the F2 x F1 plane, and their 95% ellipsis distribution is also shown. Although not necessarily applicable to the question posed at the beginning of this tutorial, the data exploration using the <code>dplyr</code> and <code>ggplot2</code> packages can be very helpful tools for providing an overview of the data at hand.</p>
</div>
<div id="vowel-height-as-a-function-of-word-types-content-vs.function-evaluation-and-statistical-analysis" class="section level2">
<h2><span class="header-section-number">3.6</span> Vowel height as a function of word types (content vs.Â function): evaluation and statistical analysis</h2>
<p>The above data exploration only dealt with the actual <em>@</em> vowels and disregarded the syllable type they occurred in. However, the question in the introduction of this chapter focuses on whether the <em>@</em> vowel occurs in a content (labeled <em>C</em>) or function (labeled <em>F</em>) word. For data inspection purposes, the R code snippet below initially extracts the central 60% (<code>filter()</code> conditions <code>times_norm &gt;= 0.2</code> and <code>times_norm &lt;= 0.8</code>) of the formant trajectories from <code>td_vowels_norm</code> using <code>dplyr</code> and displays them using <code>ggplot()</code>. It should be noted that before the call to <code>ggplot()</code> the labels of the <code>td_vowels_mid_sec</code> are replaced with those of <code>sl_word_type</code>. This allows <code>ggplot()</code> to group the trajectories by their word type as opposed to their vowel labels as displayed in Figure <a href="chap-tutorial.html#fig:tutorial-dplotSylTyp">3.9</a>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="co"># extract central 60% from formant trajectories</span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2">td_vowels_mid_sec =<span class="st"> </span>td_vowels_norm <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(times_norm <span class="op">&gt;=</span><span class="st"> </span><span class="fl">0.2</span>, times_norm <span class="op">&lt;=</span><span class="st"> </span><span class="fl">0.8</span>)</a>
<a class="sourceLine" id="cb40-4" data-line-number="4"></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="co"># replace labels with those of sl_word_type</span></a>
<a class="sourceLine" id="cb40-6" data-line-number="6">td_vowels_mid_sec<span class="op">$</span>labels =<span class="st"> </span>sl_word_type<span class="op">$</span>labels[td_vowels_mid_sec<span class="op">$</span>sl_rowIdx]</a>
<a class="sourceLine" id="cb40-7" data-line-number="7"></a>
<a class="sourceLine" id="cb40-8" data-line-number="8"><span class="kw">ggplot</span>(td_vowels_mid_sec) <span class="op">+</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9"><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x =</span> times_norm, <span class="dt">y =</span> T1, <span class="dt">col =</span> labels, <span class="dt">group =</span> labels) <span class="op">+</span></a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_smooth</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Duration (normalized)&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;F1 (Hz)&quot;</span>) </a></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span id="fig:tutorial-dplotSylTyp"></span>
<img src="tutorial_files/figure-html/tutorial-dplotSylTyp-1.png" alt="Ensemble averages of F1 contours of all tokens of the central 60% of vowels grouped by word type (function (*F*) vs. content (*W*))." width="576" />
<p class="caption">
Figure 3.9: Ensemble averages of F1 contours of all tokens of the central 60% of vowels grouped by word type (function (<em>F</em>) vs.Â content (<em>W</em>)).
</p>
</div>
<p>As can be seen in Figure <a href="chap-tutorial.html#fig:tutorial-dplotSylTyp">3.9</a>, there seems to be a distinction in F1 trajectory height between vowels in content and function words. The following R snippet shows the code to produce a boxplot once again using the <code>ggplot2</code> package to further visually inspect the data (see Figure <a href="chap-tutorial.html#fig:tutorial-boxplot">3.10</a> for the plot produced by the below code).</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="co"># use group_by + summarise to calculate the means of the 60%</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="co"># formant trajectories</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3">td_vowels_mid_sec_mean =<span class="st"> </span>td_vowels_mid_sec <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(sl_rowIdx) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">labels =</span> <span class="kw">unique</span>(labels), <span class="dt">meanF1 =</span> <span class="kw">mean</span>(T1))</a>
<a class="sourceLine" id="cb42-6" data-line-number="6"></a>
<a class="sourceLine" id="cb42-7" data-line-number="7"></a>
<a class="sourceLine" id="cb42-8" data-line-number="8"><span class="co"># create boxplot using ggplot</span></a>
<a class="sourceLine" id="cb42-9" data-line-number="9"><span class="kw">ggplot</span>(td_vowels_mid_sec_mean, <span class="kw">aes</span>(labels, meanF1)) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Word type&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;mean F1 (Hz)&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:tutorial-boxplot"></span>
<img src="tutorial_files/figure-html/tutorial-boxplot-1.png" alt="Boxplot produced using `ggplot2` to visualize the difference in F1 depending on whether the vowel occurs in content (*C*) or function (*F*) word." width="576" />
<p class="caption">
Figure 3.10: Boxplot produced using <code>ggplot2</code> to visualize the difference in F1 depending on whether the vowel occurs in content (<em>C</em>) or function (<em>F</em>) word.
</p>
</div>
<p>To confirm or reject this, the following R code presents a very simple statistical analysis of the F1 mean values of the 60% mid-section formant trajectories.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> First, a Shapiro-Wilk test for normality of the distributions of the F1 means for both word types is carried out. As only one type is normally distributed, a Wilcoxon rank sum test is performed. The density distributions (commented out <code>plot()</code> function calls in the code below) are displayed in Figure <a href="chap-tutorial.html#fig:tutorial-stats1">3.11</a>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co"># calculate density for vowels in function words</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2">distrF =<span class="st"> </span><span class="kw">density</span>(td_vowels_mid_sec_mean[td_vowels_mid_sec_mean<span class="op">$</span>labels <span class="op">==</span><span class="st"> &quot;F&quot;</span>,]<span class="op">$</span>meanF1)</a>
<a class="sourceLine" id="cb43-3" data-line-number="3"></a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="co"># uncomment to visualize distribution</span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5"><span class="co"># plot(distrF)</span></a>
<a class="sourceLine" id="cb43-6" data-line-number="6"></a>
<a class="sourceLine" id="cb43-7" data-line-number="7"><span class="co"># check that vowels in function</span></a>
<a class="sourceLine" id="cb43-8" data-line-number="8"><span class="co"># words are normally distributed</span></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="kw">shapiro.test</span>(td_vowels_mid_sec_mean[td_vowels_mid_sec_mean<span class="op">$</span>labels <span class="op">==</span><span class="st"> &quot;F&quot;</span>,]<span class="op">$</span>meanF1)</a></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  td_vowels_mid_sec_mean[td_vowels_mid_sec_mean$labels == &quot;F&quot;,     ]$meanF1
## W = 0.98618, p-value = 0.9868</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="co"># p-value &gt; 0.05 implying that the distribution</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="co"># of the data ARE NOT significantly different from</span></a>
<a class="sourceLine" id="cb45-3" data-line-number="3"><span class="co"># normal distribution -&gt; we CAN assume normality</span></a>
<a class="sourceLine" id="cb45-4" data-line-number="4"></a>
<a class="sourceLine" id="cb45-5" data-line-number="5"><span class="co"># calculate density for vowels in content words</span></a>
<a class="sourceLine" id="cb45-6" data-line-number="6">distrC =<span class="st"> </span><span class="kw">density</span>(td_vowels_mid_sec_mean[td_vowels_mid_sec_mean<span class="op">$</span>labels <span class="op">==</span><span class="st"> &quot;C&quot;</span>,]<span class="op">$</span>meanF1)</a>
<a class="sourceLine" id="cb45-7" data-line-number="7"></a>
<a class="sourceLine" id="cb45-8" data-line-number="8"><span class="co"># uncomment to visualize distribution</span></a>
<a class="sourceLine" id="cb45-9" data-line-number="9"><span class="co"># plot(distrC)</span></a>
<a class="sourceLine" id="cb45-10" data-line-number="10"></a>
<a class="sourceLine" id="cb45-11" data-line-number="11"><span class="co"># check that vowels in content</span></a>
<a class="sourceLine" id="cb45-12" data-line-number="12"><span class="co"># words are normally distributed:</span></a>
<a class="sourceLine" id="cb45-13" data-line-number="13"><span class="kw">shapiro.test</span>(td_vowels_mid_sec_mean[td_vowels_mid_sec_mean<span class="op">$</span>labels <span class="op">==</span><span class="st"> &quot;C&quot;</span>,]<span class="op">$</span>meanF1)</a></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  td_vowels_mid_sec_mean[td_vowels_mid_sec_mean$labels == &quot;C&quot;,     ]$meanF1
## W = 0.67216, p-value = 1.819e-05</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="co"># p-value &lt; 0.05 implying that the distribution</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="co"># of the data ARE significantly different from</span></a>
<a class="sourceLine" id="cb47-3" data-line-number="3"><span class="co"># normal distribution -&gt; we CAN NOT assume normality</span></a>
<a class="sourceLine" id="cb47-4" data-line-number="4"><span class="co"># (this somewhat unexpected result is probably</span></a>
<a class="sourceLine" id="cb47-5" data-line-number="5"><span class="co"># due to the small sample size used in this toy example)</span></a>
<a class="sourceLine" id="cb47-6" data-line-number="6"><span class="co"># -&gt; use Wilcoxon rank sum test</span></a>
<a class="sourceLine" id="cb47-7" data-line-number="7"></a>
<a class="sourceLine" id="cb47-8" data-line-number="8"><span class="co"># perform Wilcoxon rank sum test to establish</span></a>
<a class="sourceLine" id="cb47-9" data-line-number="9"><span class="co"># whether vowel F1 depends on word type</span></a>
<a class="sourceLine" id="cb47-10" data-line-number="10"><span class="kw">wilcox.test</span>(meanF1 <span class="op">~</span><span class="st"> </span>labels, <span class="dt">data =</span> td_vowels_mid_sec_mean)</a></code></pre></div>
<pre><code>## 
##  Wilcoxon rank sum test
## 
## data:  meanF1 by labels
## W = 119, p-value = 0.04875
## alternative hypothesis: true location shift is not equal to 0</code></pre>
<div class="figure" style="text-align: center"><span id="fig:tutorial-stats1"></span>
<img src="tutorial_files/figure-html/tutorial-stats1-1.png" alt="Plots of density distributions of vowels in content words (left plot) and vowels in function words (right plot) of the above R code." width="576" />
<p class="caption">
Figure 3.11: Plots of density distributions of vowels in content words (left plot) and vowels in function words (right plot) of the above R code.
</p>
</div>
<p>As shown by the result of <code>wilcox.test()</code> in the above R code, word type (<em>C</em> vs. <em>F</em>) has a significant influence on the vowelâs F1 (W=121, p&lt;0.05). Hence, the answer to the initially proposed question: <em>Given an annotated speech database, is vowel height of the vowel @ (measured by its correlate, the first formant frequency) influenced by whether it appears in a content or function word?</em> is yes!</p>
</div>
<div id="conclusion" class="section level2">
<h2><span class="header-section-number">3.7</span> Conclusion</h2>
<p>The tutorial given in this chapter gave an overview of what it is like working with the EMU-SDMS to try to solve a research question. As many of the concepts were only briefly explained, it is worth noting that explicit explanations of the various components and integral concepts are given in following chapters. Further, additional use cases that have been taken from the <code>emuR_intro</code> vignette can be found in Appendix <a href="app-chap-useCases.html#app-chap:useCases">14</a>. These use cases act as templates for various types of research questions and will hopefully aid the user in finding a solution similar to what she or he wishes to achieve.</p>

</div>
</div>



<h3>References</h3>
<div id="refs" class="references">
<div id="ref-draxler:2004a">
<p>Draxler, Chr., and K. JÃ¤nsch. 2004. âSpeechRecorder - a Universal Platform Independent Multi-Channel Audio Recording Software.â In <em>Proc. Of the IV. International Conference on Language Resources and Evaluation</em>, 559â62. Lisbon, Portugal.</p>
</div>
<div id="ref-kisler:2015a">
<p>Kisler, Thomas, Florian Schiel, Uwe D Reichel, and Christoph Draxler. 2015. âPhonetic/Linguistic Web Services at BAS.â In. ISCA.</p>
</div>
<div id="ref-wells:1997aa">
<p>Wells, John C, and others. 1997. âSAMPA Computer Readable Phonetic Alphabet.â <em>Handbook of Standards and Resources for Spoken Language Systems</em> 4. Berlin; New York: Mouton de Gruyter. Part IV, section B.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Some examples of this chapter are adapted versions of examples of the <code>emuR_intro</code> vignette.<a href="chap-tutorial.html#fnref2" class="footnote-back">â©</a></p></li>
<li id="fn3"><p>The other input routines are covered in the Section @ref(sec:emuRpackageDetails_importRoutines).<a href="chap-tutorial.html#fnref3" class="footnote-back">â©</a></p></li>
<li id="fn4"><p>It is worth noting that the sample size in this toy example is quite small. This obviously influences the outcome of the simple statistical analysis that is performed here.<a href="chap-tutorial.html#fnref4" class="footnote-back">â©</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap-overview.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-annot-struct-mod.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/IPS-LMU/The-EMU-SDMS-Manual/edit/master/tutorial.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
